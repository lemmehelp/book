# C++ ç±» & å¯¹è±¡

C++ åœ¨ C è¯­è¨€çš„åŸºç¡€ä¸Šå¢åŠ äº†é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ŒC++ æ”¯æŒé¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ã€‚ç±»æ˜¯ C++ çš„æ ¸å¿ƒç‰¹æ€§ï¼Œé€šå¸¸è¢«ç§°ä¸ºç”¨æˆ·å®šä¹‰çš„ç±»å‹ã€‚

ç±»ç”¨äºæŒ‡å®šå¯¹è±¡çš„å½¢å¼ï¼Œå®ƒåŒ…å«äº†æ•°æ®è¡¨ç¤ºæ³•å’Œç”¨äºå¤„ç†æ•°æ®çš„æ–¹æ³•ã€‚ç±»ä¸­çš„æ•°æ®å’Œæ–¹æ³•ç§°ä¸ºç±»çš„æˆå‘˜ã€‚å‡½æ•°åœ¨ä¸€ä¸ªç±»è¢«ç§°ä¸ºç±»çš„æˆå‘˜ã€‚

### ä¸€ã€C++ç±»çš„å®šä¹‰

ç±»å®šä¹‰æ˜¯ä»¥å…³é”®å­— **class** å¼€å¤´ï¼Œåè·Ÿç±»çš„åç§°ã€‚ç±»çš„ä¸»ä½“æ˜¯åŒ…å«åœ¨ä¸€å¯¹èŠ±æ‹¬å·ä¸­ã€‚ç±»å®šä¹‰åå¿…é¡»è·Ÿç€ä¸€ä¸ªåˆ†å·æˆ–ä¸€ä¸ªå£°æ˜åˆ—è¡¨ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬ä½¿ç”¨å…³é”®å­— **class** å®šä¹‰ Box æ•°æ®ç±»å‹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```C++
class Box
{
   public:
      double length;   // Length of a box
      double breadth;  // Breadth of a box
      double height;   // Height of a box
};
```

å…³é”®å­— **public** ç¡®å®šäº†ç±»æˆå‘˜çš„è®¿é—®å±æ€§ã€‚åœ¨ç±»å¯¹è±¡ä½œç”¨åŸŸå†…ï¼Œå…¬å…±æˆå‘˜åœ¨ç±»çš„å¤–éƒ¨æ˜¯å¯è®¿é—®çš„ã€‚æ‚¨ä¹Ÿå¯ä»¥æŒ‡å®šç±»çš„æˆå‘˜ä¸º **private** æˆ– **protected**ï¼Œè¿™ä¸ªåé¢ä¼šå±•å¼€ä»‹ç»ã€‚

### äºŒã€C++å®šä¹‰å¯¹è±¡ï¼ˆç±»ä¼¼äºpythonä¸­çš„ç±»çš„å®ä¾‹åŒ–ï¼‰

ç±»æä¾›äº†å¯¹è±¡çš„è“å›¾ï¼Œæ‰€ä»¥åŸºæœ¬ä¸Šï¼Œå¯¹è±¡æ˜¯æ ¹æ®ç±»æ¥åˆ›å»ºçš„ã€‚å£°æ˜ç±»çš„å¯¹è±¡ï¼Œå°±åƒå£°æ˜åŸºæœ¬ç±»å‹çš„å˜é‡ä¸€æ ·ã€‚ä¸‹é¢çš„è¯­å¥å£°æ˜äº†ç±» Box çš„ä¸¤ä¸ªå¯¹è±¡ï¼š

```C++
Box Box1;          // å£°æ˜ Box1ï¼Œç±»å‹ä¸º Box
Box Box2;          // å£°æ˜ Box2ï¼Œç±»å‹ä¸º Box
```

Box1å’ŒBox2éƒ½æœ‰å±äºä»–ä»¬å„è‡ªçš„æ•°æ®æˆå‘˜

#### è®¿é—®æ•°æ®æˆå‘˜

ç±»çš„å¯¹è±¡çš„å…¬å…±æ•°æ®æˆå‘˜å¯ä»¥ä½¿ç”¨**ç›´æ¥æˆå‘˜è®¿é—®è¿ç®—ç¬¦ (.)** æ¥è®¿é—®ã€‚ä¸ºäº†æ›´å¥½åœ°ç†è§£è¿™äº›æ¦‚å¿µï¼Œè®©æˆ‘ä»¬å°è¯•ä¸€ä¸‹ä¸‹é¢çš„å®ä¾‹ï¼š

```C++
#include <iostream>

using namespace std;

class Box
{
   public:
      double length;   // é•¿åº¦
      double breadth;  // å®½åº¦
      double height;   // é«˜åº¦
};

int main( )
{
   Box Box1;        // å£°æ˜ Box1ï¼Œç±»å‹ä¸º Box
   Box Box2;        // å£°æ˜ Box2ï¼Œç±»å‹ä¸º Box
   double volume = 0.0;     // ç”¨äºå­˜å‚¨ä½“ç§¯
 
   // box 1 è¯¦è¿°
   Box1.height = 5.0; 
   Box1.length = 6.0; 
   Box1.breadth = 7.0;

   // box 2 è¯¦è¿°
   Box2.height = 10.0;
   Box2.length = 12.0;
   Box2.breadth = 13.0;

   // box 1 çš„ä½“ç§¯
   volume = Box1.height * Box1.length * Box1.breadth;
   cout << "Box1 çš„ä½“ç§¯ï¼š" << volume <<endl;

   // box 2 çš„ä½“ç§¯
   volume = Box2.height * Box2.length * Box2.breadth;
   cout << "Box2 çš„ä½“ç§¯ï¼š" << volume <<endl;
   return 0;
}
```

**éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç§æœ‰çš„æˆå‘˜å’Œå—ä¿æŠ¤çš„æˆå‘˜ä¸èƒ½ä½¿ç”¨ç›´æ¥æˆå‘˜è®¿é—®è¿ç®—ç¬¦ (.) æ¥ç›´æ¥è®¿é—®ã€‚**

### ä¸‰ã€ç±» & å¯¹è±¡è¯¦è§£

åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»å¯¹ C++ çš„ç±»å’Œå¯¹è±¡æœ‰äº†åŸºæœ¬çš„äº†è§£ã€‚ä¸‹é¢çš„åˆ—è¡¨ä¸­è¿˜åˆ—å‡ºäº†å…¶ä»–ä¸€äº› C++ ç±»å’Œå¯¹è±¡ç›¸å…³çš„æ¦‚å¿µï¼Œå¯ä»¥ç‚¹å‡»ç›¸åº”çš„é“¾æ¥è¿›è¡Œå­¦ä¹ ã€‚

| æ¦‚å¿µ                                                         | æè¿°                                                         |
| :----------------------------------------------------------- | :----------------------------------------------------------- |
| [ç±»æˆå‘˜å‡½æ•°](https://www.w3cschool.cn/cpp/cpp-class-member-functions.html) | ç±»çš„æˆå‘˜å‡½æ•°æ˜¯æŒ‡é‚£äº›æŠŠå®šä¹‰å’ŒåŸå‹å†™åœ¨ç±»å®šä¹‰å†…éƒ¨çš„å‡½æ•°ï¼Œå°±åƒç±»å®šä¹‰ä¸­çš„å…¶ä»–å˜é‡ä¸€æ ·ã€‚ |
| [ç±»è®¿é—®ä¿®é¥°ç¬¦](https://www.w3cschool.cn/cpp/cpp-class-access-modifiers.html) | ç±»æˆå‘˜å¯ä»¥è¢«å®šä¹‰ä¸º publicã€private æˆ– protectedã€‚é»˜è®¤æƒ…å†µä¸‹æ˜¯å®šä¹‰ä¸º privateã€‚ |
| [æ„é€ å‡½æ•° & ææ„å‡½æ•°](https://www.w3cschool.cn/cpp/cpp-constructor-destructor.html) | ç±»çš„æ„é€ å‡½æ•°æ˜¯ä¸€ç§ç‰¹æ®Šçš„å‡½æ•°ï¼Œåœ¨åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡æ—¶è°ƒç”¨ã€‚ç±»çš„ææ„å‡½æ•°ä¹Ÿæ˜¯ä¸€ç§ç‰¹æ®Šçš„å‡½æ•°ï¼Œåœ¨åˆ é™¤æ‰€åˆ›å»ºçš„å¯¹è±¡æ—¶è°ƒç”¨ã€‚ |
| [C++ æ‹·è´æ„é€ å‡½æ•°](https://www.w3cschool.cn/cpp/cpp-copy-constructor.html) | æ‹·è´æ„é€ å‡½æ•°ï¼Œæ˜¯ä¸€ç§ç‰¹æ®Šçš„æ„é€ å‡½æ•°ï¼Œå®ƒåœ¨åˆ›å»ºå¯¹è±¡æ—¶ï¼Œæ˜¯ä½¿ç”¨åŒä¸€ç±»ä¸­ä¹‹å‰åˆ›å»ºçš„å¯¹è±¡æ¥åˆå§‹åŒ–æ–°åˆ›å»ºçš„å¯¹è±¡ã€‚ |
| [C++ å‹å…ƒå‡½æ•°](https://www.w3cschool.cn/cpp/cpp-friend-functions.html) | **å‹å…ƒå‡½æ•°**å¯ä»¥è®¿é—®ç±»çš„ private å’Œ protected æˆå‘˜ã€‚         |
| [C++ å†…è”å‡½æ•°](https://www.w3cschool.cn/cpp/cpp-inline-functions.html) | é€šè¿‡å†…è”å‡½æ•°ï¼Œç¼–è¯‘å™¨è¯•å›¾åœ¨è°ƒç”¨å‡½æ•°çš„åœ°æ–¹æ‰©å±•å‡½æ•°ä½“ä¸­çš„ä»£ç ã€‚ |
| [C++ ä¸­çš„ this æŒ‡é’ˆ](https://www.w3cschool.cn/cpp/cpp-this-pointer.html) | æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªç‰¹æ®Šçš„æŒ‡é’ˆ **this**ï¼Œå®ƒæŒ‡å‘å¯¹è±¡æœ¬èº«ã€‚        |
| [C++ ä¸­æŒ‡å‘ç±»çš„æŒ‡é’ˆ](https://www.w3cschool.cn/cpp/cpp-pointer-to-class.html) | æŒ‡å‘ç±»çš„æŒ‡é’ˆæ–¹å¼å¦‚åŒæŒ‡å‘ç»“æ„çš„æŒ‡é’ˆã€‚å®é™…ä¸Šï¼Œç±»å¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªå¸¦æœ‰å‡½æ•°çš„ç»“æ„ã€‚ |
| [C++ ç±»çš„é™æ€æˆå‘˜](https://www.w3cschool.cn/cpp/cpp-static-members.html) | ç±»çš„æ•°æ®æˆå‘˜å’Œå‡½æ•°æˆå‘˜éƒ½å¯ä»¥è¢«å£°æ˜ä¸ºé™æ€çš„ã€‚                 |

#### 1ã€ç±»çš„æˆå‘˜å‡½æ•°

â€‹	ç±»çš„æˆå‘˜å‡½æ•°æ˜¯æŒ‡é‚£äº›æŠŠå®šä¹‰å’ŒåŸå‹å†™åœ¨ç±»å®šä¹‰å†…éƒ¨çš„å‡½æ•°ï¼Œå°±åƒç±»å®šä¹‰ä¸­çš„å…¶ä»–å˜é‡ä¸€æ ·ã€‚ç±»æˆå‘˜å‡½æ•°æ˜¯ç±»çš„ä¸€ä¸ªæˆå‘˜ï¼Œå®ƒå¯ä»¥æ“ä½œç±»çš„ä»»æ„å¯¹è±¡ï¼Œå¯ä»¥è®¿é—®å¯¹è±¡ä¸­çš„æ‰€æœ‰æˆå‘˜ã€‚

**ç±»çš„æˆå‘˜å‡½æ•°æœ‰ä¸¤ç§å®šä¹‰æ–¹å¼ï¼š**

- ç›´æ¥åœ¨å®šä¹‰ç±»çš„æ—¶å€™åœ¨ç±»çš„å†…éƒ¨å®šä¹‰

  ```C++
  class Box
  {
     public:
        double length;      // é•¿åº¦
        double breadth;     // å®½åº¦
        double height;      // é«˜åº¦
     
        double getVolume(void)
        {
           return length * breadth * height;
        }
  };
  ```

- æ­¤å¤–ï¼Œæˆå‘˜å‡½æ•°ä¹Ÿå¯ä»¥åœ¨ç±»çš„å¤–éƒ¨å®šä¹‰ï¼Œæ­¤æ—¶éœ€è¦åœ¨å®šä¹‰ç±»çš„æ—¶å€™åœ¨ç±»çš„å†…éƒ¨é¦–å…ˆå¯¹å‡½æ•°è¿›è¡Œå£°æ˜ï¼Œç„¶åå†ç”¨**::**ï¼ˆ**èŒƒå›´è§£æè¿ç®—ç¬¦**ï¼‰æ¥å®šä¹‰ï¼Œ

  ```C++
  class Box
  {
     public:
        double length;         // é•¿åº¦
        double breadth;        // å®½åº¦
        double height;         // é«˜åº¦
        double getVolume(void);// è¿”å›ä½“ç§¯
  };
  double Box::getVolume(void)
  {
  	return length *breadth*height;
  }
  ```

> è¿™é‡Œéœ€è¦å¼ºè°ƒçš„æ˜¯ï¼ŒèŒƒå›´è§£æè¿ç®—ç¬¦ï¼ˆ::ï¼‰éœ€è¦è·Ÿåœ¨ç±»åçš„åé¢
>
> è€Œç‚¹è¿ç®—ç¬¦ï¼ˆ.ï¼‰åˆ™éœ€è¦è·Ÿåœ¨å¯¹è±¡åç§°åé¢

```C++
Box myBox;          // åˆ›å»ºä¸€ä¸ªå¯¹è±¡

myBox.getVolume();  // è°ƒç”¨è¯¥å¯¹è±¡çš„æˆå‘˜å‡½æ•°
```

ä¸€ä¸ªä¾‹å­ğŸŒ°ï¼š

```C++
#include <iostream>

using namespace std;

class Box
{
   public:
      double length;         // é•¿åº¦
      double breadth;        // å®½åº¦
      double height;         // é«˜åº¦

      // æˆå‘˜å‡½æ•°å£°æ˜
      double getVolume(void);
      void setLength( double len );
      void setBreadth( double bre );
      void setHeight( double hei );
};

// æˆå‘˜å‡½æ•°å®šä¹‰
double Box::getVolume(void)
{
    return length * breadth * height;
}

void Box::setLength( double len )
{
    length = len;
}

void Box::setBreadth( double bre )
{
    breadth = bre;
}

void Box::setHeight( double hei )
{
    height = hei;
}

// ç¨‹åºçš„ä¸»å‡½æ•°
int main( )
{
   Box Box1;                // å£°æ˜ Box1ï¼Œç±»å‹ä¸º Box
   Box Box2;                // å£°æ˜ Box2ï¼Œç±»å‹ä¸º Box
   double volume = 0.0;     // ç”¨äºå­˜å‚¨ä½“ç§¯
 
   // box 1 è¯¦è¿°
   Box1.setLength(6.0); 
   Box1.setBreadth(7.0); 
   Box1.setHeight(5.0);

   // box 2 è¯¦è¿°
   Box2.setLength(12.0); 
   Box2.setBreadth(13.0); 
   Box2.setHeight(10.0);

   // box 1 çš„ä½“ç§¯
   volume = Box1.getVolume();
   cout << "Box1 çš„ä½“ç§¯ï¼š" << volume <<endl;

   // box 2 çš„ä½“ç§¯
   volume = Box2.getVolume();
   cout << "Box2 çš„ä½“ç§¯ï¼š" << volume <<endl;
   return 0;
}
```

#### 2ã€ç±»è®¿é—®ä¿®é¥°ç¬¦

â€‹	æ•°æ®éšè—æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ä¸€ä¸ªé‡è¦ç‰¹ç‚¹ï¼Œå®ƒé˜²æ­¢å‡½æ•°ç›´æ¥è®¿é—®ç±»ç±»å‹çš„å†…éƒ¨æˆå‘˜ã€‚ç±»æˆå‘˜çš„è®¿é—®é™åˆ¶æ˜¯é€šè¿‡åœ¨ç±»ä¸»ä½“å†…éƒ¨å¯¹å„ä¸ªåŒºåŸŸæ ‡è®° **publicã€privateã€protected** æ¥æŒ‡å®šçš„ã€‚å…³é”®å­— publicã€privateã€protected ç§°ä¸ºè®¿é—®è¯´æ˜ç¬¦ã€‚

ä¸€ä¸ªç±»å¯ä»¥æœ‰å¤šä¸ª publicã€protected æˆ– private æ ‡è®°åŒºåŸŸã€‚**æ¯ä¸ªæ ‡è®°åŒºåŸŸåœ¨ä¸‹ä¸€ä¸ªæ ‡è®°åŒºåŸŸå¼€å§‹ä¹‹å‰æˆ–è€…åœ¨é‡åˆ°ç±»ä¸»ä½“ç»“æŸå³æ‹¬å·ä¹‹å‰éƒ½æ˜¯æœ‰æ•ˆçš„**ã€‚**æˆå‘˜å’Œç±»çš„é»˜è®¤è®¿é—®ä¿®é¥°ç¬¦æ˜¯ privateã€‚**

```C++
class Base{
	public:
	//public members go here
	
	protected:
	//protected members go here
	
	private:
	//private members go here
};
```

- å…¬æœ‰ï¼ˆpublicï¼‰æˆå‘˜

  **å…¬æœ‰æˆå‘˜**æ˜¯åœ¨ç¨‹åºä¸­ç±»çš„å¤–éƒ¨æ˜¯å¯è®¿é—®çš„ã€‚æ‚¨å¯ä»¥ä¸ä½¿ç”¨ä»»ä½•æˆå‘˜å‡½æ•°æ¥è®¾ç½®å’Œè·å–å…¬æœ‰å˜é‡çš„å€¼ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

  ```C++
  #include <iostream>
   
  using namespace std;
   
  class Line
  {
     public:
        double length;
        void setLength( double len );
        double getLength( void );
  };
   
  // æˆå‘˜å‡½æ•°å®šä¹‰
  double Line::getLength(void)
  {
      return length ;
  }
   
  void Line::setLength( double len )
  {
      length = len;
  }
   
  // ç¨‹åºçš„ä¸»å‡½æ•°
  int main( )
  {
     Line line;
   
     // è®¾ç½®é•¿åº¦
     line.setLength(6.0); 
     cout << "Length of line : " << line.getLength() <<endl;
   
     // ä¸ä½¿ç”¨æˆå‘˜å‡½æ•°è®¾ç½®é•¿åº¦â­ï¸
     line.length = 10.0; // OK: å› ä¸º length æ˜¯å…¬æœ‰çš„
     cout << "Length of line : " << line.length <<endl;
     return 0;
  }
  //è¿è¡Œç»“æœ
  Length of line : 6
  Length of line : 10
  ```

- ç§æœ‰ï¼ˆprivate)æˆå‘˜

  **ç§æœ‰**æˆå‘˜å˜é‡æˆ–å‡½æ•°åœ¨ç±»çš„å¤–éƒ¨æ˜¯ä¸å¯è®¿é—®çš„ï¼Œç”šè‡³æ˜¯ä¸å¯æŸ¥çœ‹çš„ã€‚**åªæœ‰ç±»å’Œå‹å…ƒå‡½æ•°å¯ä»¥è®¿é—®ç§æœ‰æˆå‘˜ã€‚**

  é»˜è®¤æƒ…å†µä¸‹ï¼Œç±»çš„æ‰€æœ‰æˆå‘˜éƒ½æ˜¯ç§æœ‰çš„ã€‚ä¾‹å¦‚åœ¨ä¸‹é¢çš„ç±»ä¸­ï¼Œ**width** æ˜¯ä¸€ä¸ªç§æœ‰æˆå‘˜ï¼Œè¿™æ„å‘³ç€ï¼Œå¦‚æœæ‚¨æ²¡æœ‰ä½¿ç”¨ä»»ä½•è®¿é—®ä¿®é¥°ç¬¦ï¼Œç±»çš„æˆå‘˜å°†è¢«å‡å®šä¸ºç§æœ‰æˆå‘˜ï¼š

  ä¸€ä¸ªä¾‹å­ğŸŒ°ï¼š	

  ```C++
  class Box
  {
   double width;
   public:
      double length;
      void setWidth( double wid );
      double getWidth( void );
  };
  ```

  å®é™…æ“ä½œä¸­ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šåœ¨ç§æœ‰åŒºåŸŸå®šä¹‰æ•°æ®ï¼Œç„¶ååœ¨å…¬æœ‰åŒºåŸŸå®šä¹‰ç›¸å…³å‡½æ•°ï¼Œä»¥ä¾¿ç±»å¯ä»¥åœ¨å¤–éƒ¨è°ƒç”¨è¿™äº›å‡½æ•°ç”¨æ¥è·å–ä»¥åŠä¿®æ”¹ç±»çš„ç§æœ‰å˜é‡åŠå‡½æ•°ã€‚

  ```C++
  #include <iostream>
   
  using namespace std;
   
  class Box
  {
     public:
        double length;
        void setWidth( double wid );
        double getWidth( void );
   
     private:
        double width;
  };
   
  // æˆå‘˜å‡½æ•°å®šä¹‰
  double Box::getWidth(void)
  {
      return width ;
  }
   
  void Box::setWidth( double wid )
  {
      width = wid;
  }
   
  // ç¨‹åºçš„ä¸»å‡½æ•°
  int main( )
  {
     Box box;
   
     // ä¸ä½¿ç”¨æˆå‘˜å‡½æ•°è®¾ç½®é•¿åº¦
     box.length = 10.0; // OK: å› ä¸º length æ˜¯å…¬æœ‰çš„
     cout << "Length of box : " << box.length <<endl;
   
     // ä¸ä½¿ç”¨æˆå‘˜å‡½æ•°è®¾ç½®å®½åº¦
     // box.width = 10.0; // Error: å› ä¸º width æ˜¯ç§æœ‰çš„
     box.setWidth(10.0);  // ä½¿ç”¨æˆå‘˜å‡½æ•°è®¾ç½®å®½åº¦
     cout << "Width of box : " << box.getWidth() <<endl;
   
     return 0;
  }
  ```

- ä¿æŠ¤ï¼ˆprotectedï¼‰æˆå‘˜

  ä¿æŠ¤æˆå‘˜å˜é‡ä¸ç§æœ‰æˆå‘˜å¾ˆç›¸ä¼¼ï¼Œä½†æœ‰ä¸€ç‚¹ä¸åŒçš„æ˜¯ï¼Œä¿æŠ¤æˆå‘˜çš„å‚æ•°å¯ä»¥é€šè¿‡ç±»çš„æ´¾ç”Ÿç±»ï¼ˆå­ç±»ï¼‰è®¿é—®ï¼Œè€Œç§æœ‰æˆå‘˜çš„åˆ™ä¸å¯ä»¥ã€‚

  ```C++
  #include <iostream>
  using namespace std;
   
  class Box
  {
     protected:
        double width;
  };
   
  class SmallBox:Box // SmallBox æ˜¯æ´¾ç”Ÿç±»
  {
     public:
        void setSmallWidth( double wid );
        double getSmallWidth( void );
  };
   
  // å­ç±»çš„æˆå‘˜å‡½æ•°
  double SmallBox::getSmallWidth(void)
  {
      return width ;
  }
   
  void SmallBox::setSmallWidth( double wid )
  {
      width = wid;
  }
   
  // ç¨‹åºçš„ä¸»å‡½æ•°
  int main( )
  {
     SmallBox box;
   
     // ä½¿ç”¨æˆå‘˜å‡½æ•°è®¾ç½®å®½åº¦
     box.setSmallWidth(5.0);
     cout << "Width of box : "<< box.getSmallWidth() << endl;
   
     return 0;
  }
  ```

  #### 3ã€æ„é€ å‡½æ•°ä¸ææ„å‡½æ•°

  **ç±»çš„æ„é€ å‡½æ•°ï¼š**ç±»çš„**æ„é€ å‡½æ•°**æ˜¯ç±»çš„ä¸€ç§ç‰¹æ®Šçš„æˆå‘˜å‡½æ•°ï¼Œå®ƒä¼šåœ¨æ¯æ¬¡åˆ›å»ºç±»çš„æ–°å¯¹è±¡æ—¶æ‰§è¡Œã€‚æ„é€ å‡½æ•°çš„åç§°ä¸ç±»çš„åç§°æ˜¯å®Œå…¨ç›¸åŒçš„ï¼Œå¹¶ä¸”ä¸ä¼šè¿”å›ä»»ä½•ç±»å‹ï¼Œä¹Ÿä¸ä¼šè¿”å› voidã€‚æ„é€ å‡½æ•°å¯ç”¨äºä¸ºæŸäº›æˆå‘˜å˜é‡è®¾ç½®åˆå§‹å€¼ã€‚âœ…ï¼ˆåœ¨è¿™é‡Œå¯ä»¥ç±»æ¯”ä¸pythonä¸­çš„initå‡½æ•°

  ```C++
  #include <iostream>
   
  using namespace std;
   
  class Line
  {
     public:
        void setLength( double len );
        double getLength( void );
        Line();  // è¿™æ˜¯æ„é€ å‡½æ•°
   
     private:
        double length;
  };
   
  // æˆå‘˜å‡½æ•°å®šä¹‰ï¼ŒåŒ…æ‹¬æ„é€ å‡½æ•°
  Line::Line(void)
  {
      cout << "Object is being created" << endl;
  }
   
  void Line::setLength( double len )
  {
      length = len;
  }
   
  double Line::getLength( void )
  {
      return length;
  }
  // ç¨‹åºçš„ä¸»å‡½æ•°
  int main( )
  {
     Line line;
   
     // è®¾ç½®é•¿åº¦
     line.setLength(6.0); 
     cout << "Length of line : " << line.getLength() <<endl;
   
     return 0;
  }
  //è¾“å‡ºç»“æœ
  Object is being created
  Length of line : 6
  ```

  **å¸¦æœ‰å‚æ•°çš„æ„é€ å‚æ•°ï¼š**é»˜è®¤çš„æ„é€ å‡½æ•°æ²¡æœ‰ä»»ä½•å‚æ•°ï¼Œä½†å¦‚æœéœ€è¦ï¼Œæ„é€ å‡½æ•°ä¹Ÿå¯ä»¥å¸¦æœ‰å‚æ•°ã€‚è¿™æ ·åœ¨åˆ›å»ºå¯¹è±¡æ—¶å°±ä¼šç»™å¯¹è±¡èµ‹åˆå§‹å€¼ï¼Œå¦‚ä¸‹é¢çš„ä¾‹å­æ‰€ç¤º:ï¼ˆâœ…ï¼šå°±å¯ä»¥å½“æˆå¸¦æœ‰å‚æ•°çš„initå‡½æ•°ï¼Œåœ¨åˆå§‹åŒ–çš„æ—¶å€™éœ€è¦å¸¦å‚æ•°ä½¿ç”¨ï¼‰

  ```C++
  #include <iostream>
   
  using namespace std;
   
  class Line
  {
     public:
        void setLength( double len );
        double getLength( void );
        Line(double len);  // è¿™æ˜¯æ„é€ å‡½æ•°
   
     private:
        double length;
  };
   
  // æˆå‘˜å‡½æ•°å®šä¹‰ï¼ŒåŒ…æ‹¬æ„é€ å‡½æ•°
  Line::Line( double len)
  {
      cout << "Object is being created, length = " << len << endl;
      length = len;
  }
   
  void Line::setLength( double len )
  {
      length = len;
  }
   
  double Line::getLength( void )
  {
      return length;
  }
  // ç¨‹åºçš„ä¸»å‡½æ•°
  int main( )
  {
     Line line(10.0);
   
     // è·å–é»˜è®¤è®¾ç½®çš„é•¿åº¦
     cout << "Length of line : " << line.getLength() <<endl;
     // å†æ¬¡è®¾ç½®é•¿åº¦
     line.setLength(6.0); 
     cout << "Length of line : " << line.getLength() <<endl;
   
     return 0;
  }
  
  ```

  **ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨æ¥åˆå§‹åŒ–å­—æ®µ**

  å‡è®¾æœ‰ä¸€ä¸ªç±» Cï¼Œå…·æœ‰å¤šä¸ªå­—æ®µ Xã€Yã€Z ç­‰éœ€è¦è¿›è¡Œåˆå§‹åŒ–ï¼ŒåŒç†åœ°ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä¸Šé¢çš„è¯­æ³•ï¼Œåªéœ€è¦åœ¨ä¸åŒçš„å­—æ®µä½¿ç”¨é€—å·è¿›è¡Œåˆ†éš”ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

  ```C++
  C::C( double a, double b, double c): X(a), Y(b), Z(c)
  {
    ....
  }
  ```

  ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨æ¥åˆå§‹åŒ–å­—æ®µï¼š

  ```C++
  Line::Line( double len): length(len)
  {
      cout << "Object is being created, length = " << len << endl;
  }
  ```

  ä¸Šé¢çš„è¯­æ³•ç­‰åŒäºå¦‚ä¸‹è¯­æ³•ï¼š

  ```C++
  Line::Line( double len)
  {
      cout << "Object is being created, length = " << len << endl;
      length = len;
  }
  ```

  **ç±»çš„ææ„å‡½æ•°**ï¼ˆä½œç”¨äºç±»çš„æ„é€ å‡½æ•°åˆšå¥½ç›¸åï¼‰ï¼šç±»çš„**ææ„å‡½æ•°**æ˜¯ç±»çš„ä¸€ç§ç‰¹æ®Šçš„æˆå‘˜å‡½æ•°ï¼Œå®ƒä¼šåœ¨**æ¯æ¬¡åˆ é™¤æ‰€åˆ›å»ºçš„å¯¹è±¡æ—¶æ‰§**è¡Œã€‚ææ„å‡½æ•°çš„åç§°ä¸ç±»çš„åç§°æ˜¯å®Œå…¨ç›¸åŒçš„ï¼Œåªæ˜¯åœ¨å‰é¢åŠ äº†ä¸ªæ³¢æµªå·ï¼ˆ~ï¼‰ä½œä¸ºå‰ç¼€ï¼Œå®ƒä¸ä¼šè¿”å›ä»»ä½•å€¼ï¼Œä¹Ÿä¸èƒ½å¸¦æœ‰ä»»ä½•å‚æ•°ã€‚**ææ„å‡½æ•°æœ‰åŠ©äºåœ¨è·³å‡ºç¨‹åºï¼ˆæ¯”å¦‚å…³é—­æ–‡ä»¶ã€é‡Šæ”¾å†…å­˜ç­‰ï¼‰å‰é‡Šæ”¾èµ„æºã€‚**

  ```C++
  #include <iostream>
   
  using namespace std;
   
  class Line
  {
     public:
        void setLength( double len );
        double getLength( void );
        Line();   // è¿™æ˜¯æ„é€ å‡½æ•°å£°æ˜
        ~Line();  // è¿™æ˜¯ææ„å‡½æ•°å£°æ˜
   
     private:
        double length;
  };
   
  // æˆå‘˜å‡½æ•°å®šä¹‰ï¼ŒåŒ…æ‹¬æ„é€ å‡½æ•°
  Line::Line(void)
  {
      cout << "Object is being created" << endl;
  }
  Line::~Line(void)
  {
      cout << "Object is being deleted" << endl;
  }
   
  void Line::setLength( double len )
  {
      length = len;
  }
   
  double Line::getLength( void )
  {
      return length;
  }
  // ç¨‹åºçš„ä¸»å‡½æ•°
  int main( )
  {
     Line line;
   
     // è®¾ç½®é•¿åº¦
     line.setLength(6.0); 
     cout << "Length of line : " << line.getLength() <<endl;
   
     return 0;
  }
  //è¾“å‡ºç»“æœ
  Object is being created
  Length of line : 6
  Object is being deleted
  
  ```

  #### 3ã€C++æ‹·è´æ„é€ å‡½æ•°

  é—®é¢˜ï¼Ÿ(O_O)?  ä»€ä¹ˆæ˜¯æ‹·è´æ„é€ å‡½æ•°ï¼Ÿï¼Ÿï¼Ÿï¼Ÿ

  é¦–å…ˆå¯¹äºæ™®é€šç±»å‹çš„å¯¹è±¡æ¥è¯´ï¼Œå®ƒä»¬ä¹‹é—´çš„å¤åˆ¶æ˜¯å¾ˆç®€å•çš„ï¼Œä¾‹å¦‚ï¼š

  ```cpp
  int a = 100;
  int b = a; 
  ```

  ç±»çš„ä¹±ä¸ƒå…«ç³Ÿçœ‹ä¸æ‡‚ï¼Œè·³è¿‡å›å¤´å¡«å‘

  #### 4ã€C++å‹å…ƒå‡½æ•°(ç›¸å½“äºç»™å¼€åé—¨ï¼Œç»™æŸäº›å‡½æ•°ç‰¹å®šæƒåˆ©å¯ä»¥è®¿é—®ç§æœ‰èµ„æº)

  **ç±»çš„å‹å…ƒå‡½æ•°æ˜¯å®šä¹‰åœ¨ç±»å¤–éƒ¨ï¼Œä½†æœ‰æƒè®¿é—®ç±»çš„æ‰€æœ‰ç§æœ‰ï¼ˆprivateï¼‰æˆå‘˜å’Œä¿æŠ¤ï¼ˆprotectedï¼‰æˆå‘˜ã€‚**å°½ç®¡å‹å…ƒå‡½æ•°çš„åŸå‹æœ‰åœ¨ç±»çš„å®šä¹‰ä¸­å‡ºç°è¿‡ï¼Œä½†æ˜¯å‹å…ƒå‡½æ•°å¹¶ä¸æ˜¯æˆå‘˜å‡½æ•°ã€‚

  å‹å…ƒå¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°è¢«ç§°ä¸ºå‹å…ƒå‡½æ•°ï¼›å‹å…ƒä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªç±»ï¼Œè¯¥ç±»è¢«ç§°ä¸ºå‹å…ƒç±»ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ•´ä¸ªç±»åŠå…¶æ‰€æœ‰æˆå‘˜éƒ½æ˜¯å‹å…ƒã€‚

  ==å¦‚æœè¦å£°æ˜å‡½æ•°ä¸ºä¸€ä¸ªç±»çš„å‹å…ƒï¼Œéœ€è¦åœ¨ç±»å®šä¹‰ä¸­è¯¥å‡½æ•°åŸå‹å‰ä½¿ç”¨å…³é”®å­— **friend**ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š==

  ```cpp
  class Box
  {
     double width;
  public:
     double length;
     friend void printWidth( Box box );
     void setWidth( double wid );
  };
  //åŒæ ·çš„ï¼Œå£°æ˜ç±»ClassTwoçš„æ‰€æœ‰æˆå‘˜å‡½æ•°ä½œä¸ºç±»ClassOneçš„å‹å…ƒï¼Œéœ€è¦åœ¨ç±»ClassOneçš„å®šä¹‰ä¸­æ”¾ç½®å¦‚ä¸‹å£°æ˜ï¼š
  friend class ClassTwo;
  ```

  ```cpp
  #include <iostream>
   
  using namespace std;
   
  class Box
  {
     double width;
  public:
     friend void printWidth( Box box );
     void setWidth( double wid );
  };
  
  // æˆå‘˜å‡½æ•°å®šä¹‰
  void Box::setWidth( double wid )
  {
      width = wid;
  }
  
  // è¯·æ³¨æ„ï¼šprintWidth() ä¸æ˜¯ä»»ä½•ç±»çš„æˆå‘˜å‡½æ•°
  void printWidth( Box box )
  {
     /* å› ä¸º printWidth() æ˜¯ Box çš„å‹å…ƒï¼Œå®ƒå¯ä»¥ç›´æ¥è®¿é—®è¯¥ç±»çš„ä»»ä½•æˆå‘˜ */
     cout << "Width of box : " << box.width <<endl;
  }
   
  // ç¨‹åºçš„ä¸»å‡½æ•°
  int main( )
  {
     Box box;
   
     // ä½¿ç”¨æˆå‘˜å‡½æ•°è®¾ç½®å®½åº¦
     box.setWidth(10.0);
     
     // ä½¿ç”¨å‹å…ƒå‡½æ•°è¾“å‡ºå®½åº¦
     printWidth( box );
   
     return 0;
  }
  
  ```

  #### 5ã€å†…è”å‡½æ•°

  ä¸€èˆ¬çš„å‡½æ•°æœ‰ä¸€ä¸ªæ½œåœ¨çš„ç¼ºç‚¹ï¼šè°ƒç”¨å‡½æ•°æ¯”æ±‚è§£ç­‰ä»·è¡¨è¾¾å¼è¦æ…¢å¾—å¤šã€‚åœ¨å¤§å¤šæ•°çš„æœºå™¨ä¸Šï¼Œè°ƒç”¨å‡½æ•°éƒ½è¦åšå¾ˆå¤šå·¥ä½œï¼šè°ƒç”¨å‰è¦å…ˆä¿å­˜å¯„å­˜å™¨ï¼Œå¹¶åœ¨è¿”å›æ—¶æ¢å¤ï¼Œå¤åˆ¶å®å‚ï¼Œç¨‹åºè¿˜å¿…é¡»è½¬å‘ä¸€ä¸ªæ–°ä½ç½®æ‰§è¡Œã€‚

  åœ¨C++ä¸­å¯ä»¥ä½¿ç”¨**å†…è”å‡½æ•°ï¼Œ**å…¶ç›®çš„æ˜¯ä¸ºäº†æé«˜å‡½æ•°çš„æ‰§è¡Œæ•ˆç‡**ï¼Œ**é€šå¸¸ä¸ç±»ä¸€èµ·ä½¿ç”¨ã€‚å¦‚æœä¸€ä¸ªå‡½æ•°æ˜¯å†…è”çš„ï¼Œé‚£ä¹ˆåœ¨ç¼–è¯‘æ—¶ï¼Œç¼–è¯‘å™¨ä¼šæŠŠè¯¥å‡½æ•°çš„ä»£ç å‰¯æœ¬æ”¾ç½®åœ¨æ¯ä¸ªè°ƒç”¨è¯¥å‡½æ•°çš„åœ°æ–¹ã€‚

  å¯¹å†…è”å‡½æ•°è¿›è¡Œä»»ä½•ä¿®æ”¹ï¼Œéƒ½éœ€è¦é‡æ–°ç¼–è¯‘å‡½æ•°çš„æ‰€æœ‰å®¢æˆ·ç«¯ï¼Œå› ä¸ºç¼–è¯‘å™¨éœ€è¦é‡æ–°æ›´æ¢ä¸€æ¬¡æ‰€æœ‰çš„ä»£ç ï¼Œå¦åˆ™å°†ä¼šç»§ç»­ä½¿ç”¨æ—§çš„å‡½æ•°ã€‚

  å¦‚æœæƒ³æŠŠä¸€ä¸ªå‡½æ•°å®šä¹‰ä¸ºå†…è”å‡½æ•°ï¼Œåˆ™éœ€è¦åœ¨å‡½æ•°åå‰é¢æ”¾ç½®å…³é”®å­— **inline**ï¼Œåœ¨è°ƒç”¨å‡½æ•°ä¹‹å‰éœ€è¦å¯¹å‡½æ•°è¿›è¡Œå®šä¹‰ã€‚å¦‚æœå·²å®šä¹‰çš„å‡½æ•°å¤šäºä¸€è¡Œï¼Œç¼–è¯‘å™¨ä¼šå¿½ç•¥ inline é™å®šç¬¦ã€‚

  åœ¨ç±»å®šä¹‰ä¸­çš„å®šä¹‰çš„å‡½æ•°éƒ½æ˜¯å†…è”å‡½æ•°ï¼Œå³ä½¿æ²¡æœ‰ä½¿ç”¨ **inline** è¯´æ˜ç¬¦ã€‚

  ä¸‹é¢æ˜¯ä½¿ç”¨å†…è”å‡½æ•°æ¥è¿”å›ä¸¤ä¸ªæ•°ä¸­çš„æœ€å¤§å€¼ï¼š

  ```cpp
  #include <iostream>
  using namespace std;
  
  inline int Max(int x, int y)
  {
     return (x > y)? x : y;
  }
  
  // ç¨‹åºçš„ä¸»å‡½æ•°
  int main( )
  {
  
     cout << "Max (20,10): " << Max(20,10) << endl;
     cout << "Max (0,200): " << Max(0,200) << endl;
     cout << "Max (100,1010): " << Max(100,1010) << endl;
     return 0;
  }
  //è¾“å‡ºç»“æœ
  Max (20,10): 20
  Max (0,200): 200
  Max (100,1010): 1010
  ```

  æœ‰äº†å†…è”å‡½æ•°ï¼Œå°±èƒ½åƒè°ƒç”¨ä¸€ä¸ªå‡½æ•°é‚£æ ·æ–¹ä¾¿åœ°é‡å¤ä½¿ç”¨ä¸€æ®µä»£ç ï¼Œè€Œä¸éœ€è¦ä»˜å‡ºæ‰§è¡Œå‡½æ•°è°ƒç”¨çš„é¢å¤–å¼€é”€ã€‚å¾ˆæ˜¾ç„¶ï¼Œä½¿ç”¨å†…è”å‡½æ•°ä¼šæ˜¯æœ€ç»ˆå¯æ‰§è¡Œç¨‹åºçš„ä½“ç§¯å¢åŠ ã€‚ä»¥ç©ºé—´æ¢å–æ—¶é—´ï¼Œæˆ–æ¶ˆè€—æ—¶é—´æ¥å¢åŠ ç©ºé—´ï¼Œè¿™æ˜¯è®¡ç®—æœºå­¦ç§‘ä¸­å¸¸ç”¨çš„æ–¹æ³•ã€‚

  å†…è”å‡½æ•°ä¸­çš„ä»£ç åº”è¯¥åªæ˜¯å¾ˆç®€å•ã€æ‰§è¡Œå¾ˆå¿«çš„å‡ æ¡è¯­å¥ã€‚å¦‚æœä¸€ä¸ªå‡½æ•°è¾ƒä¸ºå¤æ‚ï¼Œå®ƒæ‰§è¡Œçš„æ—¶é—´å¯èƒ½ä¸Šä¸‡å€äºå‡½æ•°è°ƒç”¨çš„é¢å¤–å¼€é”€ï¼Œé‚£ä¹ˆå°†å…¶ä½œä¸ºå†…è”å‡½æ•°å¤„ç†çš„ç»“æœæ˜¯ä»˜å‡ºè®©ä»£ç ä½“ç§¯å¢åŠ ä¸å°‘çš„ä»£ä»·ï¼Œå´åªä½¿é€Ÿåº¦æé«˜äº†ä¸‡åˆ†ä¹‹ä¸€ï¼Œè¿™æ˜¾ç„¶æ˜¯ä¸åˆ’ç®—çš„ï¼Œè€Œä¸”æœ‰äº›å‡½æ•°å³ä½¿å£°æ˜ä¸ºå†…è”çš„ä¹Ÿä¸ä¸€å®šä¼šè¢«ç¼–è¯‘å™¨å†…è”ã€‚

  æœ‰æ—¶å‡½æ•°çœ‹ä¸Šå»å¾ˆç®€å•ï¼Œä¾‹å¦‚åªæœ‰ä¸€ä¸ªåŒ…å«ä¸€ä¸¤æ¡è¯­å¥çš„å¾ªç¯ï¼Œä½†è¯¥å¾ªç¯çš„æ‰§è¡Œæ¬¡æ•°å¯èƒ½å¾ˆå¤šï¼Œè¦æ¶ˆè€—å¤§é‡æ—¶é—´ï¼Œé‚£ä¹ˆè¿™ç§æƒ…å†µä¹Ÿä¸é€‚åˆå°†å…¶å®ç°ä¸ºå†…è”å‡½æ•°ã€‚

  å¦å¤–éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè°ƒç”¨å†…è”å‡½æ•°çš„è¯­å¥å‰å¿…é¡»å·²ç»å‡ºç°å†…è”å‡½æ•°çš„å®šä¹‰ï¼ˆå³æ•´ä¸ªå‡½æ•°ä½“ï¼‰ï¼Œè€Œä¸èƒ½åªå‡ºç°å†…è”å‡½æ•°çš„å£°æ˜ã€‚

  âœ…ï¼š**ä¹Ÿå°±æ˜¯è¯´å†…æ•›å‡½æ•°ç›¸å½“äºæ˜¯å¯¹ä¼ ç»Ÿå‡½æ•°çš„æ”¹é€ ï¼Œåœ¨å®šä¹‰æ—¶éœ€è¦åœ¨å…¶å¼€å¤´ä½ç½®æ·»åŠ inlineç¬¦å·ï¼Œè¯¥ç±»å‡½æ•°åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ç›¸å½“äºä¸éœ€è¦åƒä¼ ç»Ÿå‡½æ•°ä½¿ç”¨æ—¶è€éœ€è¦å¯„å­˜è°ƒç”¨ï¼Œç›´æ¥å°†ä»£ç å¤åˆ¶åˆ°å„ä¸ªéœ€è¦è°ƒç”¨çš„åœ°æ–¹**

  #### 6ã€C++ thisæŒ‡é’ˆ

  åœ¨ C++ ä¸­ï¼Œæ¯ä¸€ä¸ªå¯¹è±¡éƒ½èƒ½é€šè¿‡ **this** æŒ‡é’ˆæ¥è®¿é—®è‡ªå·±çš„åœ°å€ã€‚**this** æŒ‡é’ˆæ˜¯æ‰€æœ‰æˆå‘˜å‡½æ•°çš„éšå«å‚æ•°ã€‚å› æ­¤ï¼Œåœ¨æˆå‘˜å‡½æ•°å†…éƒ¨ï¼Œå®ƒå¯ä»¥ç”¨æ¥æŒ‡å‘è°ƒç”¨å¯¹è±¡ã€‚

  å‹å…ƒå‡½æ•°æ²¡æœ‰ **this** æŒ‡é’ˆï¼Œå› ä¸ºå‹å…ƒä¸æ˜¯ç±»çš„æˆå‘˜ã€‚åªæœ‰æˆå‘˜å‡½æ•°æ‰æœ‰ **this** æŒ‡é’ˆã€‚

  ```cpp
  #include <iostream>
   
  using namespace std;
  
  class Box
  {
     public:
        // æ„é€ å‡½æ•°å®šä¹‰
        Box(double l=2.0, double b=2.0, double h=2.0)
        {
           cout <<"Constructor called." << endl;
           length = l;
           breadth = b;
           height = h;
        }
        double Volume()
        {
           return length * breadth * height;
        }
        int compare(Box box)
        {
           return this->Volume() > box.Volume();//è¿™ä¸ªåœ°æ–¹çš„thiså°±æ˜¯æŒ‡å‘çš„Boxè¿™ä¸ªç±»çš„æœ¬èº«
        }
     private:
        double length;     // Length of a box
        double breadth;    // Breadth of a box
        double height;     // Height of a box
  };
  
  int main(void)
  {
     Box Box1(3.3, 1.2, 1.5);    // Declare box1
     Box Box2(8.5, 6.0, 2.0);    // Declare box2
  
     if(Box1.compare(Box2))
     {
        cout << "Box2 is smaller than Box1" <<endl;
     }
     else
     {
        cout << "Box2 is equal to or larger than Box1" <<endl;
     }
     return 0;
  }
  //è¾“å‡ºç»“æœ
  Constructor called.
  Constructor called.
  Box2 is equal to or larger than Box1
  ```

  #### 7ã€æŒ‡å‘ç±»çš„æŒ‡é’ˆ

  ä¸€ä¸ªæŒ‡å‘ C++ ç±»çš„æŒ‡é’ˆä¸æŒ‡å‘ç»“æ„çš„æŒ‡é’ˆç±»ä¼¼ï¼Œè®¿é—®æŒ‡å‘ç±»çš„æŒ‡é’ˆçš„æˆå‘˜ï¼Œéœ€è¦ä½¿ç”¨æˆå‘˜è®¿é—®è¿ç®—ç¬¦ **->**ï¼Œå°±åƒè®¿é—®æŒ‡å‘ç»“æ„çš„æŒ‡é’ˆä¸€æ ·ã€‚ä¸æ‰€æœ‰çš„æŒ‡é’ˆä¸€æ ·ï¼Œæ‚¨å¿…é¡»åœ¨ä½¿ç”¨æŒ‡é’ˆä¹‹å‰ï¼Œå¯¹æŒ‡é’ˆè¿›è¡Œåˆå§‹åŒ–ã€‚

  ```CPP
  #include <iostream>
   
  using namespace std;
  
  class Box
  {
     public:
        // æ„é€ å‡½æ•°å®šä¹‰
        Box(double l=2.0, double b=2.0, double h=2.0)
        {
           cout <<"Constructor called." << endl;
           length = l;
           breadth = b;
           height = h;
        }
        double Volume()
        {
           return length * breadth * height;
        }
     private:
        double length;     // Length of a box
        double breadth;    // Breadth of a box
        double height;     // Height of a box
  };
  
  int main(void)
  {
     Box Box1(3.3, 1.2, 1.5);    // Declare box1
     Box Box2(8.5, 6.0, 2.0);    // Declare box2
     Box *ptrBox;                // Declare pointer to a class.
  
     // ä¿å­˜ç¬¬ä¸€ä¸ªå¯¹è±¡çš„åœ°å€
     ptrBox = &Box1;
  
     // ç°åœ¨å°è¯•ä½¿ç”¨æˆå‘˜è®¿é—®è¿ç®—ç¬¦æ¥è®¿é—®æˆå‘˜
     cout << "Volume of Box1: " << ptrBox->Volume() << endl;
  
     // ä¿å­˜ç¬¬äºŒä¸ªå¯¹è±¡çš„åœ°å€
     ptrBox = &Box2;
  
     // ç°åœ¨å°è¯•ä½¿ç”¨æˆå‘˜è®¿é—®è¿ç®—ç¬¦æ¥è®¿é—®æˆå‘˜
     cout << "Volume of Box2: " << ptrBox->Volume() << endl;
    
     return 0;
  }
  //è¾“å‡ºç»“æœ
  Constructor called.
  Constructor called.
  Volume of Box1: 5.94
  Volume of Box2: 102
  ```

  #### 8ã€C++ç±»çš„é™æ€æˆå‘˜

  æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ **static** å…³é”®å­—æ¥æŠŠç±»æˆå‘˜å®šä¹‰ä¸ºé™æ€çš„ã€‚å½“æˆ‘ä»¬å£°æ˜ç±»çš„æˆå‘˜ä¸ºé™æ€æ—¶ï¼Œè¿™æ„å‘³ç€æ— è®ºåˆ›å»ºå¤šå°‘ä¸ªç±»çš„å¯¹è±¡ï¼Œé™æ€æˆå‘˜éƒ½åªæœ‰ä¸€ä¸ªå‰¯æœ¬ã€‚

  **é™æ€æˆå‘˜åœ¨ç±»çš„æ‰€æœ‰å¯¹è±¡ä¸­æ˜¯å…±äº«çš„ã€‚å¦‚æœä¸å­˜åœ¨å…¶ä»–çš„åˆå§‹åŒ–è¯­å¥ï¼Œåœ¨åˆ›å»ºç¬¬ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œæ‰€æœ‰çš„é™æ€æ•°æ®éƒ½ä¼šè¢«åˆå§‹åŒ–ä¸ºé›¶**ã€‚æˆ‘ä»¬ä¸èƒ½æŠŠé™æ€æˆå‘˜æ”¾ç½®åœ¨ç±»çš„å®šä¹‰ä¸­ï¼Œä½†æ˜¯å¯ä»¥åœ¨ç±»çš„å¤–éƒ¨é€šè¿‡ä½¿ç”¨==èŒƒå›´è§£æè¿ç®—ç¬¦ **::** æ¥é‡æ–°å£°æ˜é™æ€å˜é‡==ä»è€Œå¯¹å®ƒè¿›è¡Œåˆå§‹åŒ–ï¼Œå¦‚ä¸‹é¢çš„å®ä¾‹æ‰€ç¤ºã€‚

  ä¸‹é¢çš„å®ä¾‹æœ‰åŠ©äºæ›´å¥½åœ°ç†è§£é™æ€æ•°æ®æˆå‘˜çš„æ¦‚å¿µï¼š

  ```cpp
  #include <iostream>
   
  using namespace std;
  
  class Box
  {
     public:
        static int objectCount;
        // æ„é€ å‡½æ•°å®šä¹‰
        Box(double l=2.0, double b=2.0, double h=2.0)
        {
           cout <<"Constructor called." << endl;
           length = l;
           breadth = b;
           height = h;
           // æ¯æ¬¡åˆ›å»ºå¯¹è±¡æ—¶å¢åŠ  1
           objectCount++;
        }
        double Volume()
        {
           return length * breadth * height;
        }
     private:
        double length;     // é•¿åº¦
        double breadth;    // å®½åº¦
        double height;     // é«˜åº¦
  };
  
  // åˆå§‹åŒ–ç±» Box çš„é™æ€æˆå‘˜
  int Box::objectCount = 0;
  â€¼ï¸â€¼ï¸ //åœ¨è®¿é—®è¿™ç§é™æ€å‚æ•°æ—¶ï¼Œè¿™é‡Œçš„è®¿é—®ç¬¦å·ä¸å†æ˜¯. è€Œæ˜¯å˜æˆäº†::
  int main(void)
  {
     Box Box1(3.3, 1.2, 1.5);    // å£°æ˜ box1
     Box Box2(8.5, 6.0, 2.0);    // å£°æ˜ box2
  
     // è¾“å‡ºå¯¹è±¡çš„æ€»æ•°
     cout << "Total objects: " << Box::objectCount << endl;
  
     return 0;
  }
  //è¾“å‡ºç»“æœ
  Constructor called.
  Constructor called.
  Total objects: 2
  //è¿™é‡Œstaticçš„æ„æ€å°±æ˜¯ä¸ç®¡æ€ä¹ˆæï¼Œæ€ä¹ˆå®ä¾‹åŒ–ï¼Œå¤§å®¶å„ä¸ªå®ä¾‹ä¹‹é—´éƒ½æ˜¯ç”¨åŒä¸€ä¸ªå‚æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ä»–ä¸å±äºä»»ä½•ä¸€ä¸ªç‰¹å®šçš„ä¸ªä½“å®ä¾‹åŒ–ï¼Œè€Œæ˜¯çº§åˆ«æ›´é«˜ç›´å±äºç±»æœ¬èº«çš„ï¼Œæ‰€ä»¥è®¿é—®ç¬¦å·ä¹Ÿä».å˜ä¸ºäº†::
  ```

  #### 9ã€é™æ€å‡½æ•°æˆå‘˜

  å¦‚æœæŠŠå‡½æ•°æˆå‘˜å£°æ˜ä¸ºé™æ€çš„ï¼Œå°±å¯ä»¥æŠŠå‡½æ•°ä¸ç±»çš„ä»»ä½•ç‰¹å®šå¯¹è±¡ç‹¬ç«‹å¼€æ¥ã€‚é™æ€æˆå‘˜å‡½æ•°å³ä½¿åœ¨ç±»å¯¹è±¡ä¸å­˜åœ¨çš„æƒ…å†µä¸‹ä¹Ÿèƒ½è¢«è°ƒç”¨ï¼Œ**é™æ€å‡½æ•°**åªè¦ä½¿ç”¨ç±»ååŠ èŒƒå›´è§£æè¿ç®—ç¬¦ **::** å°±å¯ä»¥è®¿é—®ã€‚

  é™æ€æˆå‘˜å‡½æ•°åªèƒ½è®¿é—®é™æ€æ•°æ®æˆå‘˜ï¼Œä¸èƒ½è®¿é—®å…¶ä»–é™æ€æˆå‘˜å‡½æ•°å’Œç±»å¤–éƒ¨çš„å…¶ä»–å‡½æ•°ã€‚

  é™æ€æˆå‘˜å‡½æ•°æœ‰ä¸€ä¸ªç±»èŒƒå›´ï¼Œä»–ä»¬ä¸èƒ½è®¿é—®ç±»çš„ this æŒ‡é’ˆã€‚æ‚¨å¯ä»¥ä½¿ç”¨é™æ€æˆå‘˜å‡½æ•°æ¥åˆ¤æ–­ç±»çš„æŸäº›å¯¹è±¡æ˜¯å¦å·²è¢«åˆ›å»ºã€‚

  ```cpp
  #include <iostream>
   
  using namespace std;
  
  class Box
  {
     public:
        static int objectCount;
        // æ„é€ å‡½æ•°å®šä¹‰
        Box(double l=2.0, double b=2.0, double h=2.0)
        {
           cout <<"Constructor called." << endl;
           length = l;
           breadth = b;
           height = h;
           // æ¯æ¬¡åˆ›å»ºå¯¹è±¡æ—¶å¢åŠ  1
           objectCount++;
        }
        double Volume()
        {
           return length * breadth * height;
        }
        static int getCount()
        {
           return objectCount;
        }
     private:
        double length;     // é•¿åº¦
        double breadth;    // å®½åº¦
        double height;     // é«˜åº¦
  };
  
  // åˆå§‹åŒ–ç±» Box çš„é™æ€æˆå‘˜
  int Box::objectCount = 0;
  
  int main(void)
  {
    
    
    â€¼ï¸â€¼ï¸ //æ³¨æ„ï¼Œè¿™ç§é™æ€å‚æ•°ï¼ˆå˜é‡åŠå‡½æ•°ï¼‰çš„è°ƒç”¨éœ€è¦ä½¿ç”¨::è€Œä¸æ˜¯è·Ÿä»¥å¾€ä¸€æ ·ä½¿ç”¨çš„æ˜¯å•ç‚¹å·ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„
      
      
     // åœ¨åˆ›å»ºå¯¹è±¡ä¹‹å‰è¾“å‡ºå¯¹è±¡çš„æ€»æ•°
     cout << "Inital Stage Count: " << Box::getCount() << endl;
  
     Box Box1(3.3, 1.2, 1.5);    // å£°æ˜ box1
     Box Box2(8.5, 6.0, 2.0);    // å£°æ˜ box2
  
     // åœ¨åˆ›å»ºå¯¹è±¡ä¹‹åè¾“å‡ºå¯¹è±¡çš„æ€»æ•°
     cout << "Final Stage Count: " << Box::getCount() << endl;
  
     return 0;
  }
  //è¾“å‡ºç»“æœ
  Inital Stage Count: 0
  Constructor called.
  Constructor called.
  Final Stage Count: 2
  ```


### å››ã€C++ç»§æ‰¿

é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ä¸­æœ€é‡è¦çš„ä¸€ä¸ªæ¦‚å¿µæ˜¯ç»§æ‰¿ã€‚ç»§æ‰¿å…è®¸æˆ‘ä»¬ä¾æ®å¦ä¸€ä¸ªç±»æ¥å®šä¹‰ä¸€ä¸ªç±»ï¼Œè¿™ä½¿å¾—åˆ›å»ºå’Œç»´æŠ¤ä¸€ä¸ªåº”ç”¨ç¨‹åºå˜å¾—æ›´å®¹æ˜“ã€‚è¿™æ ·åšï¼Œä¹Ÿè¾¾åˆ°äº†é‡ç”¨ä»£ç åŠŸèƒ½å’Œæé«˜æ‰§è¡Œæ—¶é—´çš„æ•ˆæœ

å½“åˆ›å»ºä¸€ä¸ªç±»æ—¶ï¼Œæ‚¨ä¸éœ€è¦é‡æ–°ç¼–å†™æ–°çš„æ•°æ®æˆå‘˜å’Œæˆå‘˜å‡½æ•°ï¼Œåªéœ€æŒ‡å®šæ–°å»ºçš„ç±»ç»§æ‰¿äº†ä¸€ä¸ªå·²æœ‰çš„ç±»çš„æˆå‘˜å³å¯ã€‚è¿™ä¸ªå·²æœ‰çš„ç±»ç§°ä¸º**åŸºç±»**ï¼Œæ–°å»ºçš„ç±»ç§°ä¸º**æ´¾ç”Ÿç±»**ã€‚

#### 1ã€åŸºç±»&æ´¾ç”Ÿç±»

ä¸€ä¸ªç±»å¯ä»¥æ´¾ç”Ÿè‡ªå¤šä¸ªç±»ï¼Œè¿™æ„å‘³ç€ï¼Œå®ƒå¯ä»¥ä»å¤šä¸ªåŸºç±»ç»§æ‰¿æ•°æ®å’Œå‡½æ•°ã€‚å®šä¹‰ä¸€ä¸ªæ´¾ç”Ÿç±»ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªç±»æ´¾ç”Ÿåˆ—è¡¨æ¥æŒ‡å®šåŸºç±»ã€‚ç±»æ´¾ç”Ÿåˆ—è¡¨ä»¥ä¸€ä¸ªæˆ–å¤šä¸ªåŸºç±»å‘½åï¼Œå½¢å¼å¦‚ä¸‹ï¼š

```C++
class derived-class: access-specifier base-class
```

å…¶ä¸­ï¼Œè®¿é—®ä¿®é¥°ç¬¦ access-specifier æ˜¯ **publicã€protected** æˆ– **private** å…¶ä¸­çš„ä¸€ä¸ªï¼Œbase-class æ˜¯ä¹‹å‰å®šä¹‰è¿‡çš„æŸä¸ªç±»çš„åç§°ã€‚å¦‚æœæœªä½¿ç”¨è®¿é—®ä¿®é¥°ç¬¦ access-specifierï¼Œåˆ™é»˜è®¤ä¸º privateã€‚

å‡è®¾æœ‰ä¸€ä¸ªåŸºç±» **Shape**ï¼Œ**Rectangle** æ˜¯å®ƒçš„æ´¾ç”Ÿç±»ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```C++
#include <iostream>
 
using namespace std;

// åŸºç±»
class Shape 
{
   public:
      void setWidth(int w)
      {
         width = w;
      }
      void setHeight(int h)
      {
         height = h;
      }
   protected:
      int width;
      int height;
};

// æ´¾ç”Ÿç±»
class Rectangle: public Shape
{
   public:
      int getArea()
      { 
         return (width * height); 
      }
};

int main(void)
{
   Rectangle Rect;
 
   Rect.setWidth(5);
   Rect.setHeight(7);

   // è¾“å‡ºå¯¹è±¡çš„é¢ç§¯
   cout << "Total area: " << Rect.getArea() << endl;

   return 0;
} 
//è¾“å‡ºç»“æœ
Total area: 35
```

#### 2ã€è®¿é—®æ§åˆ¶å’Œç»§æ‰¿

æ´¾ç”Ÿç±»å¯ä»¥è®¿é—®åŸºç±»ä¸­æ‰€æœ‰çš„éç§æœ‰æˆå‘˜ã€‚å› æ­¤åŸºç±»æˆå‘˜å¦‚æœä¸æƒ³è¢«æ´¾ç”Ÿç±»çš„æˆå‘˜å‡½æ•°è®¿é—®ï¼Œåˆ™åº”åœ¨åŸºç±»ä¸­å£°æ˜ä¸º privateã€‚

æˆ‘ä»¬å¯ä»¥æ ¹æ®è®¿é—®æƒé™æ€»ç»“å‡ºä¸åŒçš„è®¿é—®ç±»å‹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

| è®¿é—®     | public | protected | private |
| :------- | :----- | :-------- | :------ |
| åŒä¸€ä¸ªç±» | yes    | yes       | yes     |
| æ´¾ç”Ÿç±»   | yes    | yes       | no      |
| å¤–éƒ¨çš„ç±» | yes    | no        | no      |

å½“ä¸€ä¸ªç±»æ´¾ç”Ÿè‡ªåŸºç±»ï¼Œè¯¥åŸºç±»å¯ä»¥è¢«ç»§æ‰¿ä¸º **publicã€protected** æˆ– **private** å‡ ç§ç±»å‹ã€‚ç»§æ‰¿ç±»å‹æ˜¯é€šè¿‡ä¸Šé¢è®²è§£çš„è®¿é—®ä¿®é¥°ç¬¦ access-specifier æ¥æŒ‡å®šçš„ã€‚

æˆ‘ä»¬å‡ ä¹ä¸ä½¿ç”¨ **protected** æˆ– **private** ç»§æ‰¿ï¼Œé€šå¸¸ä½¿ç”¨ **public** ç»§æ‰¿ã€‚å½“ä½¿ç”¨ä¸åŒç±»å‹çš„ç»§æ‰¿æ—¶ï¼Œéµå¾ªä»¥ä¸‹å‡ ä¸ªè§„åˆ™ï¼š

- **å…¬æœ‰ç»§æ‰¿ï¼ˆpublicï¼‰ï¼š**å½“ä¸€ä¸ªç±»æ´¾ç”Ÿè‡ª**å…¬æœ‰**åŸºç±»æ—¶ï¼ŒåŸºç±»çš„**å…¬æœ‰**æˆå‘˜ä¹Ÿæ˜¯æ´¾ç”Ÿç±»çš„**å…¬æœ‰**æˆå‘˜ï¼ŒåŸºç±»çš„**ä¿æŠ¤**æˆå‘˜ä¹Ÿæ˜¯æ´¾ç”Ÿç±»çš„**ä¿æŠ¤**æˆå‘˜ï¼ŒåŸºç±»çš„**ç§æœ‰**æˆå‘˜ä¸èƒ½ç›´æ¥è¢«æ´¾ç”Ÿç±»è®¿é—®ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡è°ƒç”¨åŸºç±»çš„**å…¬æœ‰**å’Œ**ä¿æŠ¤**æˆå‘˜æ¥è®¿é—®ã€‚
- **ä¿æŠ¤ç»§æ‰¿ï¼ˆprotectedï¼‰ï¼š** å½“ä¸€ä¸ªç±»æ´¾ç”Ÿè‡ª**ä¿æŠ¤**åŸºç±»æ—¶ï¼ŒåŸºç±»çš„**å…¬æœ‰**å’Œ**ä¿æŠ¤**æˆå‘˜å°†æˆä¸ºæ´¾ç”Ÿç±»çš„**ä¿æŠ¤**æˆå‘˜ã€‚
- **ç§æœ‰ç»§æ‰¿ï¼ˆprivateï¼‰ï¼š**å½“ä¸€ä¸ªç±»æ´¾ç”Ÿè‡ª**ç§æœ‰**åŸºç±»æ—¶ï¼ŒåŸºç±»çš„**å…¬æœ‰**å’Œ**ä¿æŠ¤**æˆå‘˜å°†æˆä¸ºæ´¾ç”Ÿç±»çš„**ç§æœ‰**æˆå‘˜ã€‚

> ä¸€ä¸ªæ´¾ç”Ÿç±»ç»§æ‰¿äº†æ‰€æœ‰çš„åŸºç±»æ–¹æ³•ï¼Œä½†ä¸‹åˆ—æƒ…å†µé™¤å¤–ï¼š

> - åŸºç±»çš„æ„é€ å‡½æ•°ã€ææ„å‡½æ•°å’Œæ‹·è´æ„é€ å‡½æ•°ã€‚
> - åŸºç±»çš„é‡è½½è¿ç®—ç¬¦ã€‚
> - åŸºç±»çš„å‹å…ƒå‡½æ•°ã€‚

#### 3ã€å¤šç»§æ‰¿

å¤šç»§æ‰¿å³ä¸€ä¸ªå­ç±»å¯ä»¥æœ‰å¤šä¸ªçˆ¶ç±»ï¼Œå®ƒç»§æ‰¿äº†å¤šä¸ªçˆ¶ç±»çš„ç‰¹æ€§ã€‚

C++ ç±»å¯ä»¥ä»å¤šä¸ªç±»ç»§æ‰¿æˆå‘˜ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š

```
class <æ´¾ç”Ÿç±»å>: <ç»§æ‰¿æ–¹å¼1> <åŸºç±»å1>, <ç»§æ‰¿æ–¹å¼2> <åŸºç±»å2>
{
â€¦â€¦
}ï¼›
```

å…¶ä¸­ï¼Œè®¿é—®ä¿®é¥°ç¬¦ access æ˜¯ **publicã€protected** æˆ– **private** å…¶ä¸­çš„ä¸€ä¸ªï¼Œç”¨æ¥ä¿®é¥°æ¯ä¸ªåŸºç±»ï¼Œå„ä¸ªåŸºç±»ä¹‹é—´ç”¨é€—å·åˆ†éš”ï¼Œå¦‚ä¸Šæ‰€ç¤ºã€‚ç°åœ¨è®©æˆ‘ä»¬ä¸€èµ·çœ‹çœ‹ä¸‹é¢çš„å®ä¾‹ï¼š

```C++
#include <iostream>
 
using namespace std;

// åŸºç±» Shape
class Shape 
{
   public:
      void setWidth(int w)
      {
         width = w;
      }
      void setHeight(int h)
      {
         height = h;
      }
   protected:
      int width;
      int height;
};

// åŸºç±» PaintCost
class PaintCost 
{
   public:
      int getCost(int area)
      {
         return area * 70;
      }
};

// æ´¾ç”Ÿç±»
class Rectangle: public Shape, public PaintCost
{
   public:
      int getArea()
      { 
         return (width * height); 
      }
};

int main(void)
{
   Rectangle Rect;
   int area;
 
   Rect.setWidth(5);
   Rect.setHeight(7);

   area = Rect.getArea();
   
   // è¾“å‡ºå¯¹è±¡çš„é¢ç§¯
   cout << "Total area: " << Rect.getArea() << endl;

   // è¾“å‡ºæ€»èŠ±è´¹
   cout << "Total paint cost: $" << Rect.getCost(area) << endl;

   return 0;
}
```

### äº”ã€C++é‡è½½è¿ç®—ç¬¦å’Œé‡è½½å‡½æ•°

==C++ å…è®¸åœ¨åŒä¸€ä½œç”¨åŸŸä¸­çš„æŸä¸ª**å‡½æ•°**å’Œ**è¿ç®—ç¬¦**æŒ‡å®šå¤šä¸ªå®šä¹‰==ï¼Œåˆ†åˆ«ç§°ä¸º**å‡½æ•°é‡è½½**å’Œ**è¿ç®—ç¬¦é‡è½½**ã€‚

==é‡è½½å£°æ˜æ˜¯æŒ‡ä¸€ä¸ªä¸ä¹‹å‰å·²ç»åœ¨è¯¥ä½œç”¨åŸŸå†…å£°æ˜è¿‡çš„å‡½æ•°æˆ–æ–¹æ³•å…·æœ‰ç›¸åŒåç§°çš„å£°æ˜ï¼Œä½†æ˜¯å®ƒä»¬çš„å‚æ•°åˆ—è¡¨å’Œå®šä¹‰ï¼ˆå®ç°ï¼‰ä¸ç›¸åŒã€‚==

å½“æ‚¨è°ƒç”¨ä¸€ä¸ª**é‡è½½å‡½æ•°**æˆ–**é‡è½½è¿ç®—ç¬¦**æ—¶ï¼Œç¼–è¯‘å™¨é€šè¿‡æŠŠæ‚¨æ‰€ä½¿ç”¨çš„å‚æ•°ç±»å‹ä¸å®šä¹‰ä¸­çš„å‚æ•°ç±»å‹è¿›è¡Œæ¯”è¾ƒï¼Œå†³å®šé€‰ç”¨æœ€åˆé€‚çš„å®šä¹‰ã€‚é€‰æ‹©æœ€åˆé€‚çš„é‡è½½å‡½æ•°æˆ–é‡è½½è¿ç®—ç¬¦çš„è¿‡ç¨‹ï¼Œç§°ä¸º**é‡è½½å†³ç­–**ã€‚

#### 1ã€å‡½æ•°çš„é‡è½½

åœ¨åŒä¸€ä¸ªä½œç”¨åŸŸå†…ï¼Œå¯ä»¥å£°æ˜å‡ ä¸ªåŠŸèƒ½ç±»ä¼¼çš„åŒåå‡½æ•°ï¼Œä½†æ˜¯è¿™äº›åŒåå‡½æ•°çš„å½¢å¼å‚æ•°ï¼ˆæŒ‡å‚æ•°çš„ä¸ªæ•°ã€ç±»å‹æˆ–è€…é¡ºåºï¼‰å¿…é¡»ä¸åŒã€‚æ‚¨ä¸èƒ½ä»…é€šè¿‡è¿”å›ç±»å‹çš„ä¸åŒæ¥é‡è½½å‡½æ•°ã€‚

ä¸‹é¢çš„å®ä¾‹ä¸­ï¼ŒåŒåå‡½æ•° **print()** è¢«ç”¨äºè¾“å‡ºä¸åŒçš„æ•°æ®ç±»å‹ï¼š

```cpp
#include <iostream>
using namespace std;
 
class printData 
{
   public:
      void print(int i) {
        cout << "Printing int: " << i << endl;
      }

      void print(double  f) {
        cout << "Printing float: " << f << endl;
      }

      void print(char* c) {
        cout << "Printing character: " << c << endl;
      }
};

int main(void)
{
   printData pd;
 
   // Call print to print integer
   pd.print(5);
   // Call print to print float
   pd.print(500.263);
   // Call print to print character
   pd.print("Hello C++");
 
   return 0;
}
//è¾“å‡ºç»“æœ ï¼šå°±æ˜¯å®šä¹‰äº†ä¸€å †é‡åå‡½æ•°ï¼Œä½†æ˜¯ä»–ä»¬çš„è¾“å…¥æ˜¯ä¸ä¸€æ ·çš„ï¼Œå†ä»¥æ­¤æ¥åŒºåˆ†ä»–ä»¬ä¹‹é—´çš„åŒºåˆ«
Printing int: 5
Printing float: 500.263
Printing character: Hello C++
```

#### 2ã€è¿ç®—ç¬¦é‡è½½

**é‡è½½çš„è¿ç®—ç¬¦æ˜¯å¸¦æœ‰ç‰¹æ®Šåç§°çš„å‡½æ•°**ï¼Œå‡½æ•°åæ˜¯ç”±å…³é”®å­— operator å’Œå…¶åè¦é‡è½½çš„è¿ç®—ç¬¦ç¬¦å·æ„æˆçš„ã€‚ä¸å…¶ä»–å‡½æ•°ä¸€æ ·ï¼Œé‡è½½è¿ç®—ç¬¦æœ‰ä¸€ä¸ªè¿”å›ç±»å‹å’Œä¸€ä¸ªå‚æ•°åˆ—è¡¨ã€‚

```cpp
//ä½œä¸ºæˆå‘˜å‡½æ•°æ—¶çš„å®šä¹‰æ–¹æ³•
Box operator+(const Box&);
```

==å£°æ˜åŠ æ³•è¿ç®—ç¬¦ç”¨äºæŠŠä¸¤ä¸ª Box å¯¹è±¡ç›¸åŠ ï¼Œè¿”å›æœ€ç»ˆçš„ Box å¯¹è±¡ã€‚å¤§å¤šæ•°çš„é‡è½½è¿ç®—ç¬¦å¯è¢«å®šä¹‰ä¸ºæ™®é€šçš„éæˆå‘˜å‡½æ•°æˆ–è€…è¢«å®šä¹‰ä¸ºç±»æˆå‘˜å‡½æ•°ã€‚å¦‚æœæˆ‘ä»¬å®šä¹‰ä¸Šé¢çš„å‡½æ•°ä¸ºç±»çš„éæˆå‘˜å‡½æ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦ä¸ºæ¯æ¬¡æ“ä½œä¼ é€’ä¸¤ä¸ªå‚æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤º==ï¼š

è¡¥å……:â‰ï¸: **åŒºåˆ†ç±»çš„æˆå‘˜å‡½æ•°ä¸ç±»çš„éæˆå‘˜å‡½æ•°** ä¸¾ä¸€ä¸ªä¾‹å­ğŸŒ°ï¼š

```cpp
////////////åŸå§‹çš„ç±»//////////////
class People{
        public:
            ...
            void Getup( );
            void Washing( );
            void eating( );
            ...
        }
////////////æˆå‘˜å‡½æ•°//////////////
class People
{
  			public:
  			â€¦â€¦
          void morningAction(){ //åœ¨è¿™é‡Œï¼ŒmorningActionå‡½æ•°ä¹Ÿå°±æ˜¯æˆå‘˜å‡½æ•°
          	void Getup( );
            void Washing( );
            void eating( );  
        }
        		
}
////////////éæˆå‘˜å‡½æ•°//////////////
void moringAction(People& p)//åœ¨è¿™é‡Œï¼Œå°†å‡½æ•°å®šä¹‰åœ¨ç±»çš„å¤–éƒ¨ï¼Œå°†ç±»ä½œä¸ºè¾“å…¥å‚æ•°å¹¶æ“ä½œç±»ä¸­çš„å‡½æ•°åŠå˜é‡çš„æ–¹æ³•ï¼Œæ­¤æ—¶è¿™ä¸ªå‡½æ•°è¢«ç§°ä½œéæˆå‘˜å‡½æ•°
        {
                p.Getup( );
                p.Washing( );
                p.eating( );
        }
```

å¦‚æœæˆ‘ä»¬å®šä¹‰ä¸Šé¢çš„å‡½æ•°ä¸ºç±»çš„éæˆå‘˜å‡½æ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦ä¸ºæ¯æ¬¡æ“ä½œä¼ é€’ä¸¤ä¸ªå‚æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```cpp
//ä½œä¸ºéæˆå‘˜å‡½æ•°æ—¶å®šä¹‰é‡è½½ç¬¦çš„è¯­å¥
Box operator+(const Box&, const Box&);
```

ä¸‹é¢çš„å®ä¾‹ä½¿ç”¨æˆå‘˜å‡½æ•°æ¼”ç¤ºäº†è¿ç®—ç¬¦é‡è½½çš„æ¦‚å¿µã€‚åœ¨è¿™é‡Œï¼Œå¯¹è±¡ä½œä¸ºå‚æ•°è¿›è¡Œä¼ é€’ï¼Œå¯¹è±¡çš„å±æ€§ä½¿ç”¨ **this** è¿ç®—ç¬¦è¿›è¡Œè®¿é—®ï¼Œ

```cpp
#include <iostream>
using namespace std;

class Box
{
   public:

      double getVolume(void)
      {
         return length * breadth * height;
      }
      void setLength( double len )
      {
          length = len;
      }

      void setBreadth( double bre )
      {
          breadth = bre;
      }

      void setHeight( double hei )
      {
          height = hei;
      }
      // é‡è½½ + è¿ç®—ç¬¦ï¼Œç”¨äºæŠŠä¸¤ä¸ª Box å¯¹è±¡ç›¸åŠ 
      Box operator+(const Box& b) //ç›¸å½“äºæ£€æµ‹åˆ°æœ‰BOXç±»è·Ÿ+è¿ç”¨æ—¶ï¼Œå°±ä¼šè‡ªåŠ¨é‡è½½
      {
         Box box;
         box.length = this->length + b.length;
         box.breadth = this->breadth + b.breadth;
         box.height = this->height + b.height;
         return box;
      }
   private:
      double length;      // é•¿åº¦
      double breadth;     // å®½åº¦
      double height;      // é«˜åº¦
};
// ç¨‹åºçš„ä¸»å‡½æ•°
int main( )
{
   Box Box1;                // å£°æ˜ Box1ï¼Œç±»å‹ä¸º Box
   Box Box2;                // å£°æ˜ Box2ï¼Œç±»å‹ä¸º Box
   Box Box3;                // å£°æ˜ Box3ï¼Œç±»å‹ä¸º Box
   double volume = 0.0;     // æŠŠä½“ç§¯å­˜å‚¨åœ¨è¯¥å˜é‡ä¸­
 
   // Box1 è¯¦è¿°
   Box1.setLength(6.0); 
   Box1.setBreadth(7.0); 
   Box1.setHeight(5.0);
 
   // Box2 è¯¦è¿°
   Box2.setLength(12.0); 
   Box2.setBreadth(13.0); 
   Box2.setHeight(10.0);
 
   // Box1 çš„ä½“ç§¯
   volume = Box1.getVolume();
   cout << "Volume of Box1 : " << volume <<endl;
 
   // Box2 çš„ä½“ç§¯
   volume = Box2.getVolume();
   cout << "Volume of Box2 : " << volume <<endl;

   // æŠŠä¸¤ä¸ªå¯¹è±¡ç›¸åŠ ï¼Œå¾—åˆ° Box3
   Box3 = Box1 + Box2; //æ­¤å¤„è‡ªåŠ¨é‡è½½åŠ å·è¿ç®—ç¬¦

   // Box3 çš„ä½“ç§¯
   volume = Box3.getVolume();
   cout << "Volume of Box3 : " << volume <<endl;

   return 0;
}
//è¾“å‡ºç»“æœ
Volume of Box1 : 210
Volume of Box2 : 1560
Volume of Box3 : 5400
```

ä¸‹é¢æ˜¯å¯é‡è½½çš„è¿ç®—ç¬¦åˆ—è¡¨ï¼š

| +    | -    | *    | /      | %      | ^         |
| ---- | ---- | ---- | ------ | ------ | --------- |
| &    | \|   | ~    | !      | ,      | =         |
| <    | >    | <=   | >=     | ++     | --        |
| <<   | >>   | ==   | !=     | &&     | \|\|      |
| +=   | -=   | /=   | %=     | ^=     | &=        |
| \|=  | *=   | <<=  | >>=    | []     | ()        |
| ->   | ->*  | new  | new [] | delete | delete [] |

ä¸‹é¢æ˜¯ä¸å¯é‡è½½çš„è¿ç®—ç¬¦åˆ—è¡¨ï¼š

| ::   | .*   | .    | ?:   |
| ---- | ---- | ---- | ---- |

### å…­ã€é‡è½½è¿ç®—ç¬¦å®ä¾‹

#### **1ã€ä¸€å…ƒè¿ç®—ç¬¦é‡è½½**ï¼ˆä¹Ÿå°±æ˜¯åªæœ‰ä¸€ä¸ªæ•°å­—å‚ä¸è¿ç®—çš„æƒ…å†µï¼‰

ä¸€å…ƒè¿ç®—ç¬¦åªå¯¹ä¸€ä¸ªæ“ä½œæ•°è¿›è¡Œæ“ä½œï¼Œä¸‹é¢æ˜¯ä¸€å…ƒè¿ç®—ç¬¦çš„å®ä¾‹ï¼š

- [é€’å¢è¿ç®—ç¬¦ï¼ˆ ++ ï¼‰å’Œé€’å‡è¿ç®—ç¬¦ï¼ˆ -- ï¼‰](https://www.w3cschool.cn/cpp/increment-decrement-operators-overloading.html)
- ä¸€å…ƒå‡è¿ç®—ç¬¦ï¼Œå³è´Ÿå·ï¼ˆ - ï¼‰
- é€»è¾‘éè¿ç®—ç¬¦ï¼ˆ ! ï¼‰

ä¸€å…ƒè¿ç®—ç¬¦é€šå¸¸å‡ºç°åœ¨å®ƒä»¬æ‰€æ“ä½œçš„å¯¹è±¡çš„å·¦è¾¹ï¼Œæ¯”å¦‚ !objã€-obj å’Œ ++objï¼Œä½†æœ‰æ—¶å®ƒä»¬ä¹Ÿå¯ä»¥ä½œä¸ºåç¼€ï¼Œæ¯”å¦‚ obj++ æˆ– obj--ã€‚

ä¾‹å­1ï¼š

```cpp
#include <iostream>
using namespace std;
 
class Distance
{
   private:
      int feet;             // 0 åˆ°æ— ç©·
      int inches;           // 0 åˆ° 12
   public:
      // æ‰€éœ€çš„æ„é€ å‡½æ•°
      Distance(){
         feet = 0;
         inches = 0;
      }
      Distance(int f, int i){
         feet = f;
         inches = i;
      }
      // æ˜¾ç¤ºè·ç¦»çš„æ–¹æ³•
      void displayDistance()
      {
         cout << "F: " << feet << " I:" << inches <<endl;
      }
      // é‡è½½è´Ÿè¿ç®—ç¬¦ï¼ˆ - ï¼‰
      Distance operator- ()//å› ä¸ºè¿™é‡Œæ˜¯å‰ç¼€ä¸€å…ƒè¿ç®—ç¬¦ï¼Œä¸ç”¨å…¶ä»–å‚æ•°ï¼Œæ‰€ä»¥è¿™é‡Œçš„å‚æ•°è¾“å…¥ä½ç½®å¯ä»¥æ˜¯ç©ºçš„
      {
         feet = -feet;
         inches = -inches;
         return Distance(feet, inches);//æ„é€ å‡½æ•°
      }
};
int main()
{
   Distance D1(11, 10), D2(-5, 11);
 
   -D1;                     // å–ç›¸åæ•°
   D1.displayDistance();    // è·ç¦» D1

   -D2;                     // å–ç›¸åæ•°
   D2.displayDistance();    // è·ç¦» D2

   return 0;
}
//è¿”å›ç»“æœ
F: -11 I:-10
F: 5 I:-11
```

ä¾‹å­2ï¼šâ­ï¸å¾ˆé‡è¦ï¼ŒåŒºåˆ†è¿ç®—ç¬¦æ˜¯å‰ç¼€è¿˜æ˜¯åç¼€çš„

```cpp
#include <iostream>
using namespace std;
 
class Time
{
   private:
      int hours;             // 0 åˆ° 23
      int minutes;           // 0 åˆ° 59
   public:
      // æ‰€éœ€çš„æ„é€ å‡½æ•°
      Time(){
         hours = 0;
         minutes = 0;
      }
      Time(int h, int m){
         hours = h;
         minutes = m;
      }
      // æ˜¾ç¤ºæ—¶é—´çš„æ–¹æ³•
      void displayTime()
      {
         cout << "H: " << hours << " M:" << minutes <<endl;
      }
      // é‡è½½å‰ç¼€é€’å¢è¿ç®—ç¬¦ï¼ˆ ++ ï¼‰
      Time operator++ ()  
      {
         ++minutes;          // å¯¹è±¡åŠ  1
         if(minutes >= 60)  
         {
            ++hours;
            minutes -= 60;
         }
         return Time(hours, minutes); //è¿™é‡Œè¿”å›çš„ç›¸å½“äºæ˜¯æ„é€ å‡½æ•°ï¼Œå°†å¯¹è±¡é‡æ–°åˆå§‹åŒ–äº†
      }
      // é‡è½½åç¼€é€’å¢è¿ç®—ç¬¦ï¼ˆ ++ ï¼‰
      Time operator++( int )         
      {
         // ä¿å­˜åŸå§‹å€¼
         Time T(hours, minutes);
         // å¯¹è±¡åŠ  1
         ++minutes;                    
         if(minutes >= 60)
         {
            ++hours;
            minutes -= 60;
         }
         // è¿”å›æ—§çš„åŸå§‹å€¼
         return T; 
      }
};
int main()
{
   Time T1(11, 59), T2(10,40);
 
   ++T1;                    // T1 åŠ  1
   T1.displayTime();        // æ˜¾ç¤º T1
   ++T1;                    // T1 å†åŠ  1
   T1.displayTime();        // æ˜¾ç¤º T1
 
   T2++;                    // T2 åŠ  1
   T2.displayTime();        // æ˜¾ç¤º T2
   T2++;                    // T2 å†åŠ  1
   T2.displayTime();        // æ˜¾ç¤º T2
   return 0;
}
//è¾“å‡ºç»“æœ
H: 12 M:0
H: 12 M:1
H: 10 M:41
H: 10 M:42
```

#### 2ã€äºŒå…ƒè¿ç®—ç¬¦é‡è½½

äºŒå…ƒè¿ç®—ç¬¦éœ€è¦ä¸¤ä¸ªå‚æ•°ï¼Œä¸‹é¢æ˜¯äºŒå…ƒè¿ç®—ç¬¦çš„å®ä¾‹ã€‚æˆ‘ä»¬å¹³å¸¸ä½¿ç”¨çš„åŠ è¿ç®—ç¬¦ï¼ˆ + ï¼‰ã€å‡è¿ç®—ç¬¦ï¼ˆ - ï¼‰ã€ä¹˜è¿ç®—ç¬¦ï¼ˆ * ï¼‰å’Œé™¤è¿ç®—ç¬¦ï¼ˆ / ï¼‰éƒ½å±äºäºŒå…ƒè¿ç®—ç¬¦ã€‚å°±åƒåŠ (+)è¿ç®—ç¬¦ã€‚

ä¸‹é¢çš„å®ä¾‹æ¼”ç¤ºäº†å¦‚ä½•é‡è½½åŠ è¿ç®—ç¬¦ï¼ˆ + ï¼‰ã€‚ç±»ä¼¼åœ°ï¼Œæ‚¨ä¹Ÿå¯ä»¥å°è¯•é‡è½½å‡è¿ç®—ç¬¦ï¼ˆ - ï¼‰å’Œé™¤è¿ç®—ç¬¦ï¼ˆ / ï¼‰ã€‚

```cpp
#include <iostream>
using namespace std;
 
class Box
{
   double length;      // é•¿åº¦
   double breadth;     // å®½åº¦
   double height;      // é«˜åº¦
public:
 
   double getVolume(void)
   {
      return length * breadth * height;
   }
   void setLength( double len )
   {
       length = len;
   }
 
   void setBreadth( double bre )
   {
       breadth = bre;
   }
 
   void setHeight( double hei )
   {
       height = hei;
   }
   // é‡è½½ + è¿ç®—ç¬¦ï¼Œç”¨äºæŠŠä¸¤ä¸ª Box å¯¹è±¡ç›¸åŠ 
   Box operator+(const Box& b)
   {
      Box box;
      box.length = this->length + b.length;
      box.breadth = this->breadth + b.breadth;
      box.height = this->height + b.height;
      return box;
   }
};
// ç¨‹åºçš„ä¸»å‡½æ•°
int main( )
{
   Box Box1;                // å£°æ˜ Box1ï¼Œç±»å‹ä¸º Box
   Box Box2;                // å£°æ˜ Box2ï¼Œç±»å‹ä¸º Box
   Box Box3;                // å£°æ˜ Box3ï¼Œç±»å‹ä¸º Box
   double volume = 0.0;     // æŠŠä½“ç§¯å­˜å‚¨åœ¨è¯¥å˜é‡ä¸­
 
   // Box1 è¯¦è¿°
   Box1.setLength(6.0); 
   Box1.setBreadth(7.0); 
   Box1.setHeight(5.0);
 
   // Box2 è¯¦è¿°
   Box2.setLength(12.0); 
   Box2.setBreadth(13.0); 
   Box2.setHeight(10.0);
 
   // Box1 çš„ä½“ç§¯
   volume = Box1.getVolume();
   cout << "Volume of Box1 : " << volume <<endl;
 
   // Box2 çš„ä½“ç§¯
   volume = Box2.getVolume();
   cout << "Volume of Box2 : " << volume <<endl;
 
   // æŠŠä¸¤ä¸ªå¯¹è±¡ç›¸åŠ ï¼Œå¾—åˆ° Box3
   Box3 = Box1 + Box2;
 
   // Box3 çš„ä½“ç§¯
   volume = Box3.getVolume();
   cout << "Volume of Box3 : " << volume <<endl;
 
   return 0;
}
//è¾“å‡ºç»“æœ
Volume of Box1 : 210
Volume of Box2 : 1560
Volume of Box3 : 5400
```

#### 3ã€å…³ç³»è¿ç®—ç¬¦é‡è½½

C++ è¯­è¨€æ”¯æŒå„ç§å…³ç³»è¿ç®—ç¬¦ï¼ˆ < ã€ > ã€ <= ã€ >= ã€ == ç­‰ç­‰ï¼‰ï¼Œå®ƒä»¬å¯ç”¨äºæ¯”è¾ƒ C++ å†…ç½®çš„æ•°æ®ç±»å‹ã€‚

æ‚¨å¯ä»¥é‡è½½ä»»ä½•ä¸€ä¸ªå…³ç³»è¿ç®—ç¬¦ï¼Œé‡è½½åçš„å…³ç³»è¿ç®—ç¬¦å¯ç”¨äºæ¯”è¾ƒç±»çš„å¯¹è±¡ã€‚

```cpp
#include <iostream>
using namespace std;
 
class Distance
{
   private:
      int feet;             // 0 åˆ°æ— ç©·
      int inches;           // 0 åˆ° 12
   public:
      // æ‰€éœ€çš„æ„é€ å‡½æ•°
      Distance(){
         feet = 0;
         inches = 0;
      }
      Distance(int f, int i){
         feet = f;
         inches = i;
      }
      // æ˜¾ç¤ºè·ç¦»çš„æ–¹æ³•
      void displayDistance()
      {
         cout << "F: " << feet << " I:" << inches <<endl;
      }
      // é‡è½½è´Ÿè¿ç®—ç¬¦ï¼ˆ - ï¼‰//ä¸€å…ƒè¿ç®—ç¬¦
      Distance operator- ()  
      {
         feet = -feet;
         inches = -inches;
         return Distance(feet, inches);
      }
      // é‡è½½å°äºè¿ç®—ç¬¦ï¼ˆ < ï¼‰
      bool operator <(const Distance& d) //è¿™é‡Œç”¨çš„æ—¶å¸ƒå°”å€¼
      {
         if(feet < d.feet)
         {
            return true;
         }
         if(feet == d.feet && inches < d.inches)
         {
            return true;
         }
         return false;
        //åªä¼šè¿”å›ä¸€ä¸ªreturn ä¹Ÿå°±æ˜¯å°±æ²¡èµ°åˆ°ä¸Šé¢ä¸¤ä¸ªreturnæ—¶é»˜è®¤è¿”å›false
      }
};
int main()
{
   Distance D1(11, 10), D2(5, 11);
 
   if( D1 < D2 )
   {
      cout << "D1 is less than D2 " << endl;
   }
   else
   {
      cout << "D2 is less than D1 " << endl;
   }
   return 0;
}
//è¾“å‡ºç»“æœ
D2 is less than D1
```

#### 4ã€è¾“å…¥/è¾“å‡ºè¿ç®—ç¬¦é‡è½½

C++ èƒ½å¤Ÿä½¿ç”¨æµæå–è¿ç®—ç¬¦ >> å’Œæµæ’å…¥è¿ç®—ç¬¦ << æ¥è¾“å…¥å’Œè¾“å‡ºå†…ç½®çš„æ•°æ®ç±»å‹ã€‚æ‚¨å¯ä»¥é‡è½½æµæå–è¿ç®—ç¬¦å’Œæµæ’å…¥è¿ç®—ç¬¦æ¥æ“ä½œå¯¹è±¡ç­‰ç”¨æˆ·è‡ªå®šä¹‰çš„æ•°æ®ç±»å‹ã€‚

åœ¨è¿™é‡Œï¼Œæœ‰ä¸€ç‚¹å¾ˆé‡è¦ï¼Œæˆ‘ä»¬éœ€è¦æŠŠè¿ç®—ç¬¦é‡è½½å‡½æ•°å£°æ˜ä¸ºç±»çš„å‹å…ƒå‡½æ•°ï¼Œè¿™æ ·æˆ‘ä»¬å°±èƒ½ä¸ç”¨åˆ›å»ºå¯¹è±¡è€Œç›´æ¥è°ƒç”¨å‡½æ•°ã€‚

**é‡è½½è¾“å…¥è¿ç®—ç¬¦>>**

ä¸‹é¢æˆ‘ä»¬ä»¥å…¨å±€å‡½æ•°çš„å½¢å¼é‡è½½`>>`ï¼Œä½¿å®ƒèƒ½å¤Ÿè¯»å…¥ä¸¤ä¸ª double ç±»å‹çš„æ•°æ®ï¼Œå¹¶åˆ†åˆ«èµ‹å€¼ç»™å¤æ•°çš„å®éƒ¨å’Œè™šéƒ¨ï¼š

```cpp
istream & operator>>(istream &in, complex &A){
    in >> A.m_real >> A.m_imag;
    return in;
}
```

istream è¡¨ç¤ºè¾“å…¥æµï¼Œcin æ˜¯ istream ç±»çš„å¯¹è±¡ï¼Œåªä¸è¿‡è¿™ä¸ªå¯¹è±¡æ˜¯åœ¨æ ‡å‡†åº“ä¸­å®šä¹‰çš„ã€‚ä¹‹æ‰€ä»¥è¿”å› istream ç±»å¯¹è±¡çš„å¼•ç”¨ï¼Œæ˜¯ä¸ºäº†èƒ½å¤Ÿè¿ç»­è¯»å–å¤æ•°ï¼Œè®©ä»£ç ä¹¦å†™æ›´åŠ æ¼‚äº®ï¼Œä¾‹å¦‚ï¼š

```cpp
complex c1, c2;cin>>c1>>c2;
```

å¦‚æœä¸è¿”å›å¼•ç”¨ï¼Œé‚£å°±åªèƒ½ä¸€ä¸ªä¸€ä¸ªåœ°è¯»å–äº†ï¼š

```cpp
complex c1, c2;cin>>c1;cin>>c2;
```

å¦å¤–ï¼Œè¿ç®—ç¬¦é‡è½½å‡½æ•°ä¸­ç”¨åˆ°äº† complex ç±»çš„ private æˆå‘˜å˜é‡ï¼Œå¿…é¡»åœ¨ complex ç±»ä¸­å°†è¯¥å‡½æ•°å£°æ˜ä¸ºå‹å…ƒå‡½æ•°ï¼š

```cpp
friend istream & operator>>(istream & in , complex &a);
```

`>>`è¿ç®—ç¬¦å¯ä»¥æŒ‰ç…§ä¸‹é¢çš„æ–¹å¼ä½¿ç”¨ï¼š

```cpp
complex c;
cin>>c;
```

å½“è¾“å…¥`1.45 2.34`åï¼Œè¿™ä¸¤ä¸ªå°æ•°å°±åˆ†åˆ«æˆä¸ºå¯¹è±¡ c çš„å®éƒ¨å’Œè™šéƒ¨äº†ã€‚`cin>> c;`è¿™ä¸€è¯­å¥å…¶å®å¯ä»¥ç†è§£ä¸ºï¼š

```cpp
operator >> (cin, c3)
```

è°ƒç”¨å‡½æ•°æ—¶ï¼Œå½¢å‚inæˆä¸ºcinçš„å¼•ç”¨ï¼Œå½¢å‚Aæˆä¸ºc3çš„å¼•ç”¨ï¼Œå› æ­¤è°ƒç”¨å‡½æ•°çš„è¿‡ç¨‹å˜ä¸ºï¼š

```cpp
cin >> c3.m_real >> c3.m_imag; return cin
```

**é‡è½½è¾“å‡ºè¿ç®—ç¬¦ <<**

åŒæ ·åœ°ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ¨¡ä»¿ä¸Šé¢çš„å½¢å¼å¯¹è¾“å‡ºè¿ç®—ç¬¦`>>`è¿›è¡Œé‡è½½ï¼Œè®©å®ƒèƒ½å¤Ÿè¾“å‡ºå¤æ•°ï¼Œè¯·çœ‹ä¸‹é¢çš„ä»£ç ï¼š

```cpp
ostream & operator<<(ostream &out, complex &A){
    out << A.m_real <<" + "<< A.m_imag <<" i ";
    return out;
}
```

ostream è¡¨ç¤ºè¾“å‡ºæµï¼Œcout æ˜¯ ostream ç±»çš„å¯¹è±¡ã€‚ç”±äºé‡‡ç”¨äº†å¼•ç”¨çš„æ–¹å¼è¿›è¡Œå‚æ•°ä¼ é€’ï¼Œå¹¶ä¸”ä¹Ÿè¿”å›äº†å¯¹è±¡çš„å¼•ç”¨ï¼Œæ‰€ä»¥é‡è½½åçš„è¿ç®—ç¬¦å¯ä»¥å®ç°è¿ç»­è¾“å‡ºã€‚
ä¸ºäº†èƒ½å¤Ÿç›´æ¥è®¿é—® complex ç±»çš„ private æˆå‘˜å˜é‡ï¼ŒåŒæ ·éœ€è¦å°†è¯¥å‡½æ•°å£°æ˜ä¸º complex ç±»çš„å‹å…ƒå‡½æ•°ï¼šï¼ˆåªæœ‰é™æ€å‡½æ•°æ‰èƒ½ä¸ç»åˆ›å»ºç›´æ¥è®¿é—®ï¼‰

```cpp
friend ostream & operator<<(ostream &out, complex &A);
```

ä¸€ä¸ªä¾‹å­ğŸŒ°ï¼š

```cpp
#include <iostream>
using namespace std;
 
class Distance
{
   private:
      int feet;             // 0 åˆ°æ— ç©·
      int inches;           // 0 åˆ° 12
   public:
      // æ‰€éœ€çš„æ„é€ å‡½æ•°
      Distance(){
         feet = 0;
         inches = 0;
      }
      Distance(int f, int i){
         feet = f;
         inches = i;
      }
      friend ostream &operator<<( ostream &output, 
                                       const Distance &D )
      { 
         output << "F : " << D.feet << " I : " << D.inches;
         return output;            
      }

      friend istream &operator>>( istream  &input, Distance &D )
      { 
         input >> D.feet >> D.inches;
         return input;            
      }
};
int main()
{
   Distance D1(11, 10), D2(5, 11), D3;

   cout << "Enter the value of object : " << endl;
   cin >> D3;
   cout << "First Distance : " << D1 << endl;
   cout << "Second Distance :" << D2 << endl;
   cout << "Third Distance :" << D3 << endl;


   return 0;
}
//è¾“å‡ºç»“æœ
$./a.out
Enter the value of object :
70
10
First Distance : F : 11 I : 10
Second Distance :F : 5 I : 11
Third Distance :F : 70 I : 10
```

#### 4ã€èµ‹å€¼è¿ç®—ç¬¦é‡è½½

å°±åƒå…¶ä»–è¿ç®—ç¬¦ä¸€æ ·ï¼Œæ‚¨å¯ä»¥é‡è½½èµ‹å€¼è¿ç®—ç¬¦ï¼ˆ = ï¼‰ï¼Œç”¨äºåˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œæ¯”å¦‚æ‹·è´æ„é€ å‡½æ•°ã€‚

ä¸‹é¢çš„å®ä¾‹æ¼”ç¤ºäº†å¦‚ä½•é‡è½½èµ‹å€¼è¿ç®—ç¬¦ã€‚

```cpp
#include <iostream>
using namespace std;
 
class Distance
{
   private:
      int feet;             // 0 åˆ°æ— ç©·
      int inches;           // 0 åˆ° 12
   public:
      // æ‰€éœ€çš„æ„é€ å‡½æ•°
      Distance(){
         feet = 0;
         inches = 0;
      }
      Distance(int f, int i){
         feet = f;
         inches = i;
      }
      void operator=(const Distance &D )
      { 
         feet = D.feet;
         inches = D.inches;
      }
      // æ˜¾ç¤ºè·ç¦»çš„æ–¹æ³•
      void displayDistance()
      {
         cout << "F: " << feet <<  " I:" <<  inches << endl;
      }
      
};
int main()
{
   Distance D1(11, 10), D2(5, 11);

   cout << "First Distance : "; 
   D1.displayDistance();
   cout << "Second Distance :"; 
   D2.displayDistance();

   // ä½¿ç”¨èµ‹å€¼è¿ç®—ç¬¦
   D1 = D2;
   cout << "First Distance :"; 
   D1.displayDistance();

   return 0;
}
//è¾“å‡ºç»“æœ
First Distance : F: 11 I:10
Second Distance :F: 5 I:11
First Distance :F: 5 I:11
```

#### 5ã€å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦ () é‡è½½

å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦ () å¯ä»¥è¢«é‡è½½ç”¨äºç±»çš„å¯¹è±¡ã€‚å½“é‡è½½ () æ—¶ï¼Œæ‚¨ä¸æ˜¯åˆ›é€ äº†ä¸€ç§æ–°çš„è°ƒç”¨å‡½æ•°çš„æ–¹å¼ï¼Œç›¸ååœ°ï¼Œè¿™æ˜¯åˆ›å»ºä¸€ä¸ªå¯ä»¥ä¼ é€’ä»»æ„æ•°ç›®å‚æ•°çš„è¿ç®—ç¬¦å‡½æ•°

```cpp
#include <iostream>
using namespace std;
 
class Distance
{
   private:
      int feet;             // 0 åˆ°æ— ç©·
      int inches;           // 0 åˆ° 12
   public:
      // æ‰€éœ€çš„æ„é€ å‡½æ•°
      Distance(){
         feet = 0;
         inches = 0;
      }
      Distance(int f, int i){
         feet = f;
         inches = i;
      }
      // é‡è½½å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦
      Distance operator()(int a, int b, int c)
      {
         Distance D;
         // è¿›è¡Œéšæœºè®¡ç®—
         D.feet = a + c + 10;
         D.inches = b + c + 100 ;
         return D;
      }
      // æ˜¾ç¤ºè·ç¦»çš„æ–¹æ³•
      void displayDistance()
      {
         cout << "F: " << feet <<  " I:" <<  inches << endl;
      }
      
};
int main()
{
   Distance D1(11, 10), D2;

   cout << "First Distance : "; 
   D1.displayDistance();

   D2 = D1(10, 10, 10); // invoke operator()åªè¦æ£€æµ‹åˆ°ï¼ˆï¼‰å†…å˜ä¸ºä¸‰ä¸ªäº†ï¼Œè¯æ˜å°±æ¿€å‘äº†è¿™ä¸ªé‡è½½ï¼Œå°±ä¼šè¿›è¡Œå†…éƒ¨å®šä¹‰çš„è¿ç®—ã€‚
   cout << "Second Distance :"; 
   D2.displayDistance();

   return 0;
}
//è¾“å‡ºç»“æœ
First Distance : F: 11 I:10
Second Distance :F: 30 I:120
```

### ä¸ƒã€C++ç±»çš„å¤šæ€

**å¤šæ€**æŒ‰å­—é¢çš„æ„æ€å°±æ˜¯å¤šç§å½¢æ€ã€‚å½“ç±»ä¹‹é—´å­˜åœ¨å±‚æ¬¡ç»“æ„ï¼Œå¹¶ä¸”ç±»ä¹‹é—´æ˜¯é€šè¿‡ç»§æ‰¿å…³è”æ—¶ï¼Œå°±ä¼šç”¨åˆ°å¤šæ€ã€‚

C++ å¤šæ€æ„å‘³ç€è°ƒç”¨æˆå‘˜å‡½æ•°æ—¶ï¼Œä¼šæ ¹æ®è°ƒç”¨å‡½æ•°çš„å¯¹è±¡çš„ç±»å‹æ¥æ‰§è¡Œä¸åŒçš„å‡½æ•°

```cpp
#include <iostream> 
using namespace std;
 
class Shape {
   protected:
      int width, height;
   public:
      Shape( int a=0, int b=0)
      {
         width = a;
         height = b;
      }
      int area()
      {
         cout << "Parent class area :" <<endl;
         return 0;
      }
};
class Rectangle: public Shape{
   public:
      Rectangle( int a=0, int b=0):Shape(a, b) { }
      int area ()
      { 
         cout << "Rectangle class area :" <<endl;
         return (width * height); 
      }
};
class Triangle: public Shape{
   public:
      Triangle( int a=0, int b=0):Shape(a, b) { }
      int area ()
      { 
         cout << "Triangle class area :" <<endl;
         return (width * height / 2); 
      }
};
// ç¨‹åºçš„ä¸»å‡½æ•°
int main( )
{
   Shape *shape;
   Rectangle rec(10,7);
   Triangle  tri(10,5);

   // å­˜å‚¨çŸ©å½¢çš„åœ°å€
   shape = &rec;
   // è°ƒç”¨çŸ©å½¢çš„æ±‚é¢ç§¯å‡½æ•° area
   shape->area();

   // å­˜å‚¨ä¸‰è§’å½¢çš„åœ°å€
   shape = &tri;
   // è°ƒç”¨ä¸‰è§’å½¢çš„æ±‚é¢ç§¯å‡½æ•° area
   shape->area();
   
   return 0;
}
//è¾“å‡ºç»“æœ
Parent class area
Parent class area
âŒï¼šä¸å¯¹å•Šï¼Œæˆ‘å¸Œæœ›è¾“å‡ºçš„ç»“æœæ˜¯ä¸¤ä¸ªçš„å­ç±»çš„ï¼Œä½†æ˜¯è¿™é‡Œåªæœ‰çˆ¶ç±»areaå‡½æ•°çš„è°ƒç”¨
```

> å¯¼è‡´é”™è¯¯è¾“å‡ºçš„åŸå› æ˜¯ï¼Œè°ƒç”¨å‡½æ•° area() è¢«ç¼–è¯‘å™¨è®¾ç½®ä¸ºåŸºç±»ä¸­çš„ç‰ˆæœ¬ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„**é™æ€å¤šæ€**ï¼Œæˆ–**é™æ€é“¾æ¥** - å‡½æ•°è°ƒç”¨åœ¨ç¨‹åºæ‰§è¡Œå‰å°±å‡†å¤‡å¥½äº†ã€‚æœ‰æ—¶å€™è¿™ä¹Ÿè¢«ç§°ä¸º**æ—©ç»‘å®š**ï¼Œå› ä¸º area() å‡½æ•°åœ¨ç¨‹åºç¼–è¯‘æœŸé—´å°±å·²ç»è®¾ç½®å¥½äº†ã€‚

ä¸ºäº†å…‹æœä¸Šè¿°é—®é¢˜ï¼Œæˆ‘ç›´æ¥åœ¨çˆ¶ç±»å®šä¹‰çš„éœ€è¦è¢«é‡å†™çš„å‡½æ•°ä¹‹å‰ä½³å“¥virtualï¼Œç„¶ååç»­ç¼–è¯‘å™¨åœ¨è¿è¡Œçš„æ—¶å€™å°±ä¼šè‡ªåŠ¨ä½¿ç”¨å­ç±»ä¸­çš„å®šä¹‰æ–¹æ³•ã€‚

```cpp
class Shape {
   protected:
      int width, height;
   public:
      Shape( int a=0, int b=0)
      {
         width = a;
         height = b;
      }
      virtual int area()
      {
         cout << "Parent class area :" <<endl;
         return 0;
      }
};
//è¾“å‡ºç»“æœ
//Rectangle class area
//Triangle class area
```

æ­¤æ—¶ï¼Œç¼–è¯‘å™¨çœ‹çš„æ˜¯æŒ‡é’ˆçš„å†…å®¹ï¼Œè€Œä¸æ˜¯å®ƒçš„ç±»å‹ã€‚å› æ­¤ï¼Œç”±äº tri å’Œ rec ç±»çš„å¯¹è±¡çš„åœ°å€å­˜å‚¨åœ¨ *shape ä¸­ï¼Œæ‰€ä»¥ä¼šè°ƒç”¨å„è‡ªçš„ area() å‡½æ•°ã€‚

æ­£å¦‚æ‚¨æ‰€çœ‹åˆ°çš„ï¼Œæ¯ä¸ªå­ç±»éƒ½æœ‰ä¸€ä¸ªå‡½æ•° area() çš„ç‹¬ç«‹å®ç°ã€‚è¿™å°±æ˜¯**å¤šæ€**çš„ä¸€èˆ¬ä½¿ç”¨æ–¹å¼ã€‚æœ‰äº†å¤šæ€ï¼Œæ‚¨å¯ä»¥æœ‰å¤šä¸ªä¸åŒçš„ç±»ï¼Œéƒ½å¸¦æœ‰åŒä¸€ä¸ªåç§°ä½†å…·æœ‰ä¸åŒå®ç°çš„å‡½æ•°ï¼Œå‡½æ•°çš„å‚æ•°ç”šè‡³å¯ä»¥æ˜¯ç›¸åŒçš„

> âŒï¼šåœ¨è¿™é‡Œï¼Œè¿™ä¸ªå¸¦æœ‰virtualå®šä¹‰çš„å‡½æ•°å°±å«åšè™šå‡½æ•°

**è™šå‡½æ•°** æ˜¯åœ¨åŸºç±»ä¸­ä½¿ç”¨å…³é”®å­— **virtual** å£°æ˜çš„å‡½æ•°ã€‚åœ¨æ´¾ç”Ÿç±»ä¸­é‡æ–°å®šä¹‰åŸºç±»ä¸­å®šä¹‰çš„è™šå‡½æ•°æ—¶ï¼Œä¼šå‘Šè¯‰ç¼–è¯‘å™¨ä¸è¦é™æ€é“¾æ¥åˆ°è¯¥å‡½æ•°ã€‚

==æˆ‘ä»¬æƒ³è¦çš„æ˜¯åœ¨ç¨‹åºä¸­ä»»æ„ç‚¹å¯ä»¥æ ¹æ®æ‰€è°ƒç”¨çš„å¯¹è±¡ç±»å‹æ¥é€‰æ‹©è°ƒç”¨çš„å‡½æ•°ï¼Œè¿™ç§æ“ä½œè¢«ç§°ä¸º**åŠ¨æ€é“¾æ¥**ï¼Œæˆ–**åæœŸç»‘å®š==**ã€‚

**çº¯è™šå‡½æ•°**

æ‚¨å¯èƒ½æƒ³è¦åœ¨åŸºç±»ä¸­å®šä¹‰è™šå‡½æ•°ï¼Œä»¥ä¾¿åœ¨æ´¾ç”Ÿç±»ä¸­é‡æ–°å®šä¹‰è¯¥å‡½æ•°æ›´å¥½åœ°é€‚ç”¨äºå¯¹è±¡ï¼Œä½†æ˜¯æ‚¨åœ¨åŸºç±»ä¸­åˆä¸èƒ½å¯¹è™šå‡½æ•°ç»™å‡ºæœ‰æ„ä¹‰çš„å®ç°ï¼Œè¿™ä¸ªæ—¶å€™å°±ä¼šç”¨åˆ°çº¯è™šå‡½æ•°ã€‚

æˆ‘ä»¬å¯ä»¥æŠŠåŸºç±»ä¸­çš„è™šå‡½æ•° area() æ”¹å†™å¦‚ä¸‹ï¼š

```cpp
class Shape {
   protected:
      int width, height;
   public:
      Shape( int a=0, int b=0)
      {
         width = a;
         height = b;
      }
      // pure virtual function
      virtual int area() = 0; //åœ¨è¿™é‡Œï¼Œä¹Ÿå°±æ˜¯ä¸å®šä¹‰å‡½æ•°å†…å®¹ï¼Œç›´æ¥ç»™ä»–èµ‹å€¼æˆ0
};
```

